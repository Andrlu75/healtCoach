# TASK LIST: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±–ª—é–¥ –∫–æ—É—á–∞
# –°–æ–∑–¥–∞–Ω: 2026-02-01 12:00
# –û–±—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –±–ª—é–¥ –∫–æ—É—á–∞ —Å AI-–ø–æ–º–æ—â—å—é, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ –ø–∏—Ç–∞–Ω–∏—è –∏ —Å–∏—Å—Ç–µ–º–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## üéØ COORDINATION STATUS

TOTAL_TASKS: 61
COMPLETED_TASKS: 9
AUDITED_TASKS: 51
SECURITY_AUDITED_TASKS: 8
IN_PROGRESS_TASKS: 0
BLOCKED_TASKS: 0
PENDING_FIX_TASKS: 0
PENDING_SECURITY_FIX_TASKS: 0
VERIFIED_FIX_TASKS: 1
CRITICAL_PATH: #001 ‚úì ‚Üí #002 ‚úì ‚Üí #003 ‚úì ‚Üí #004 ‚úì ‚Üí #006 ‚úì ‚Üí #008 ‚úì ‚Üí #011 ‚úì ‚Üí #012 ‚úì ‚Üí #013 ‚úì ‚Üí #014 ‚úì ‚Üí #015 ‚úì ‚Üí #025 ‚úì ‚Üí #026 ‚úì ‚Üí #029 ‚úì ‚Üí #031 ‚úì
SECURITY_CRITICAL_PATH: #sec_001 ‚úì ‚Üí #sec_002 ‚úì ‚Üí #sec_003 ‚úì ‚Üí #sec_004 ‚úì ‚Üí #sec_005 ‚úì ‚Üí #sec_006 ‚úì ‚Üí #sec_007 ‚úì ‚Üí #sec_008 ‚úì
ACTIVE_AGENTS: []
DEADLOCK_DETECTED: false
VERIFICATION_CYCLES: 0
MAX_FIX_ITERATIONS: 2
ESCALATION_NEEDED: false
LAST_UPDATE: 2026-02-01 22:20

## ‚úÖ PHASE 1 MVP - –ó–ê–í–ï–†–®–ï–ù–û
–í–µ—Å—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω. Backend –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤. Frontend —Å—Ç—Ä–∞–Ω–∏—Ü—ã DishesDatabase –∏ DishForm —Ä–∞–±–æ—Ç–∞—é—Ç. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å NutritionProgramEdit –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.

---

## ‚ö†Ô∏è COORDINATION ALERTS

- [x] INFO: Task list —Å–æ–∑–¥–∞–Ω, –≥–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
- [x] INFO: Critical path —Å–æ–¥–µ—Ä–∂–∏—Ç 14 –∑–∞–¥–∞—á
- [x] INFO: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã: Backend Models (#001-#003), Frontend Components (#016-#024), AI Services (#033-#036)
- [x] WARNING: Task #031 –∏–º–µ–µ—Ç 4 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Äî –∫–ª—é—á–µ–≤–∞—è —Ç–æ—á–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [x] AUDIT: 32 –∑–∞–¥–∞—á–∏ –ø—Ä–æ–∞—É–¥–∏—Ä–æ–≤–∞–Ω—ã [2026-02-01 16:30]
- [x] FIX: #fix_001 ‚Äî –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ —É–≥–ª–µ–≤–æ–¥–æ–≤ –≤ —Ñ–æ—Ä–º–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ ‚úÖ
- [x] üîí SECURITY AUDIT: –ü—Ä–æ–≤–µ–¥—ë–Ω –∞—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ [2026-02-01 17:45]
- [x] üö® CRITICAL: #sec_001 ‚Äî AI Prompt Injection —É—è–∑–≤–∏–º–æ—Å—Ç—å ‚úÖ FIXED
- [x] üö® CRITICAL: #sec_002 ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç Rate Limiting –¥–ª—è AI API ‚úÖ FIXED
- [x] ‚ö†Ô∏è HIGH: #sec_003 ‚Äî Shopping Links XSS —É—è–∑–≤–∏–º–æ—Å—Ç—å ‚úÖ FIXED
- [x] ‚ö†Ô∏è HIGH: #sec_004 ‚Äî JSON Fields DoS —É—è–∑–≤–∏–º–æ—Å—Ç—å ‚úÖ FIXED
- [x] ‚ö†Ô∏è HIGH: #sec_005 ‚Äî AI Response –±–µ–∑ –ø–æ–ª–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚úÖ FIXED
- [x] ‚ö° MEDIUM: #sec_006 ‚Äî Security Headers –¥–ª—è production ‚úÖ FIXED
- [x] ‚ö° MEDIUM: #sec_007 ‚Äî Audit Logging –¥–ª—è Health Data ‚úÖ FIXED
- [x] ‚ö° MEDIUM: #sec_008 ‚Äî Sensitive data –≤ –ª–æ–≥–∞—Ö ‚úÖ FIXED

---

# PHASE 1: MVP (Must Have)

## –ì—Ä—É–ø–ø–∞: Backend Models

---

## –ó–ê–î–ê–ß–ê #001
TITLE: [BACKEND] Create Product Model
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 14:00] ‚úÖ AUDIT PASSED
DEPENDS_ON: -
BLOCKS: #003, #004, #006, #009
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å Product –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–∞–∑—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∫–æ—É—á–∞ —Å –ö–ë–ñ–£ –Ω–∞ 100–≥. –ü—Ä–æ–¥—É–∫—Ç—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –±–ª—é–¥–∞—Ö –∫–∞–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ú–æ–¥–µ–ª—å –≤ `backend/apps/meals/models.py`
- –ü–æ–ª—è: coach (FK), name, calories_per_100g, proteins_per_100g, fats_per_100g, carbs_per_100g (DecimalField)
- –ü–æ–ª–µ category —Å choices (dairy, meat, fish, vegetables, fruits, grains, nuts, oils, spices, other)
- –ü–æ–ª–µ is_verified (BooleanField, default=False)
- –ü–æ–ª—è created_at, updated_at (auto)
- Meta: unique_together = ['coach', 'name'], ordering = ['name']
- –°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ: –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ú–æ–¥–µ–ª—å Product —Å–æ–∑–¥–∞–Ω–∞ –≤ models.py
- [x] PRODUCT_CATEGORIES choices –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- [x] –í—Å–µ –ø–æ–ª—è —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- [x] Meta –∫–ª–∞—Å—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] __str__ –º–µ—Ç–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

–§–ê–ô–õ–´:
- `backend/apps/meals/models.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å Product —Å –ø–æ–ª—è–º–∏: coach (FK), name, calories_per_100g, proteins_per_100g, fats_per_100g, carbs_per_100g
- –î–æ–±–∞–≤–ª–µ–Ω PRODUCT_CATEGORIES —Å 10 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ (dairy, meat, fish, vegetables, fruits, grains, nuts, oils, spices, other)
- –í—Å–µ DecimalField —Å MinValueValidator(0)
- Meta: db_table='products', unique_together, ordering, indexes
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ get_nutrition_for_weight() –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ö–ë–ñ–£ –ø–æ –≤–µ—Å—É
- Type hints –∏ docstrings

–ê–£–î–ò–¢:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: SOLID —Å–æ–±–ª—é–¥–µ–Ω—ã, –º–æ–¥–µ–ª—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
- –ö–æ–¥: Type hints, docstrings, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã ‚Äî –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã—Å–æ–∫–æ–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: FK –∫ Coach –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, related_name –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## –ó–ê–î–ê–ß–ê #002
TITLE: [BACKEND] Create DishTag Model
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 14:00] ‚úÖ AUDIT PASSED
DEPENDS_ON: -
BLOCKS: #003, #004, #007, #010
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å DishTag –¥–ª—è –≥–∏–±–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–ª—é–¥ —Ç–µ–≥–∞–º–∏. –ö–∞–∂–¥—ã–π –∫–æ—É—á —Å–æ–∑–¥–∞—ë—Ç —Å–≤–æ–∏ —Ç–µ–≥–∏.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ú–æ–¥–µ–ª—å –≤ `backend/apps/meals/models.py`
- –ü–æ–ª—è: coach (FK), name (CharField max 50), color (CharField max 7, default='#3B82F6')
- Meta: unique_together = ['coach', 'name'], ordering = ['name']

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ú–æ–¥–µ–ª—å DishTag —Å–æ–∑–¥–∞–Ω–∞
- [x] –í—Å–µ –ø–æ–ª—è —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
- [x] Meta –∫–ª–∞—Å—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] __str__ –º–µ—Ç–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

–§–ê–ô–õ–´:
- `backend/apps/meals/models.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å DishTag —Å –ø–æ–ª—è–º–∏: coach (FK), name, color
- –î–æ–±–∞–≤–ª–µ–Ω—ã created_at/updated_at –¥–ª—è –∞—É–¥–∏—Ç–∞
- Meta: db_table='dish_tags', unique_together, ordering, index
- Type hints –∏ docstrings

–ê–£–î–ò–¢:
- –ü—Ä–æ—Å—Ç–∞—è –º–æ–¥–µ–ª—å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Single Responsibility
- Type hints –∏ docstrings –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- –í–∞–ª–∏–¥–∞—Ü–∏—è HEX —Ü–≤–µ—Ç–∞ –±—É–¥–µ—Ç –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–µ (#007)

---

## –ó–ê–î–ê–ß–ê #003
TITLE: [BACKEND] Create Dish Model
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #001, #002
BLOCKS: #004, #008, #011
ESTIMATED: 3h

–ê–£–î–ò–¢:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: SOLID —Å–æ–±–ª—é–¥–µ–Ω—ã, –º–æ–¥–µ–ª—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ
- –ö–æ–¥: Type hints, docstrings, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã ‚Äî –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã—Å–æ–∫–æ–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: FK –∫ Coach –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, M2M –∫ DishTag –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- recalculate_nutrition() –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—É–º–º–∏—Ä—É–µ—Ç –ö–ë–ñ–£ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –º–æ–¥–µ–ª—å Dish –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–ª—é–¥ –∫–æ—É—á–∞ —Å –ö–ë–ñ–£, —Ä–µ—Ü–µ–ø—Ç–æ–º, –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–µ–π.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ú–æ–¥–µ–ª—å –≤ `backend/apps/meals/models.py`
- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è: coach (FK), name, description, recipe (TextField –¥–ª—è markdown)
- –ö–ë–ñ–£: portion_weight (PositiveIntegerField), calories, proteins, fats, carbohydrates (DecimalField)
- –í—Ä–µ–º—è: cooking_time (PositiveIntegerField, nullable)
- –ú–µ–¥–∏–∞: photo (ImageField upload_to='dishes/%Y/%m/'), video_url (URLField)
- JSON –ø–æ–ª—è: ingredients (list), shopping_links (list)
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è: meal_types (JSONField list), tags (M2M ‚Üí DishTag)
- –°—Ç–∞—Ç—É—Å: is_active (BooleanField default=True)
- Timestamps: created_at, updated_at
- Meta: ordering = ['-updated_at'], verbose_name/verbose_name_plural –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –ú–µ—Ç–æ–¥ recalculate_nutrition() –¥–ª—è –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –ö–ë–ñ–£ –ø–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ú–æ–¥–µ–ª—å Dish —Å–æ–∑–¥–∞–Ω–∞ —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏
- [x] JSONField —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ default=list
- [x] M2M —Å–≤—è–∑—å —Å DishTag —á–µ—Ä–µ–∑ related_name='dishes'
- [x] recalculate_nutrition() –º–µ—Ç–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] Meta –∏ __str__ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

–§–ê–ô–õ–´:
- `backend/apps/meals/models.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- –ú–æ–¥–µ–ª—å Dish —Å–æ–∑–¥–∞–Ω–∞ —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏
- –ö–ë–ñ–£: portion_weight, calories, proteins, fats, carbohydrates (DecimalField)
- JSON: ingredients, shopping_links, meal_types —Å default=list
- M2M: tags ‚Üí DishTag —Å related_name='dishes'
- MEAL_TYPES choices –¥–æ–±–∞–≤–ª–µ–Ω—ã
- Meta: db_table='dishes', ordering, indexes
- recalculate_nutrition() –º–µ—Ç–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- Type hints –∏ docstrings

---

## –ó–ê–î–ê–ß–ê #004
TITLE: [DATABASE] Create Migrations
PRIORITY: CRITICAL
TYPE: INFRASTRUCTURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #001, #002, #003
BLOCKS: #005, #009, #010, #011
ESTIMATED: 1h

–ê–£–î–ò–¢:
- –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í—Å–µ –ø–æ–ª—è –∏ —Å–≤—è–∑–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- –ò–Ω–¥–µ–∫—Å—ã –∏ constraints –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π Product, DishTag, Dish.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –í—ã–ø–æ–ª–Ω–∏—Ç—å `python manage.py makemigrations meals`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ª–æ–∫–∞–ª—å–Ω–æ: `python manage.py migrate`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ SQLite

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ
- [x] –¢–∞–±–ª–∏—Ü—ã products, dish_tags, dishes, dishes_tags —Å–æ–∑–¥–∞–Ω—ã
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

–§–ê–ô–õ–´:
- `backend/apps/meals/migrations/0006_add_product_dishtag_dish.py`

–ö–û–ú–ê–ù–î–´:
```bash
cd backend && .venv/bin/python manage.py makemigrations meals
cd backend && .venv/bin/python manage.py migrate
```

–í–´–ü–û–õ–ù–ï–ù–û:
- –ú–∏–≥—Ä–∞—Ü–∏—è 0006_add_product_dishtag_dish.py —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ —Å DJANGO_SETTINGS_MODULE=config.settings.dev (SQLite)
- –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã: products, dish_tags, dishes, dishes_tags
- –ò–Ω–¥–µ–∫—Å—ã –∏ unique constraints –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

---

## –ó–ê–î–ê–ß–ê #005
TITLE: [DATABASE] Add Database Indexes
PRIORITY: HIGH
TYPE: OPTIMIZATION
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #004
BLOCKS: -
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Ç–∞–±–ª–∏—Ü–∞–º –±–ª—é–¥ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è Dish: coach_id, name, is_active, updated_at DESC
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è Product: coach_id, name, category
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è DishTag: coach_id
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å db_index=True –≤ –ø–æ–ª—è—Ö –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ò–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –º–æ–¥–µ–ª–∏ –∏–ª–∏ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤

–§–ê–ô–õ–´:
- `backend/apps/meals/models.py` –∏–ª–∏ –Ω–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–í–´–ü–û–õ–ù–ï–ù–û:
- –ò–Ω–¥–µ–∫—Å—ã —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Meta –∫–ª–∞—Å—Å–∞—Ö –º–æ–¥–µ–ª–µ–π:
  - Product: indexes –Ω–∞ (coach, name), (category)
  - DishTag: index –Ω–∞ (coach)
  - Dish: indexes –Ω–∞ (coach, name), (coach, is_active), (-updated_at)

---

## –ì—Ä—É–ø–ø–∞: Backend Serializers

---

## –ó–ê–î–ê–ß–ê #006
TITLE: [BACKEND] Create ProductSerializer
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #001
BLOCKS: #009, #014
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è –º–æ–¥–µ–ª–∏ Product —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ö–ë–ñ–£.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `backend/apps/meals/serializers.py`
- ProductSerializer —Å –ø–æ–ª—è–º–∏: id, name, calories_per_100g, proteins_per_100g, fats_per_100g, carbs_per_100g, category, is_verified, created_at
- –í–∞–ª–∏–¥–∞—Ü–∏—è: –ö–ë–ñ–£ >= 0
- read_only_fields: id, created_at

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] ProductSerializer —Å–æ–∑–¥–∞–Ω
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –ö–ë–ñ–£ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

–§–ê–ô–õ–´:
- `backend/apps/meals/serializers.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- ProductSerializer —Å–æ–∑–¥–∞–Ω (—Å—Ç—Ä–æ–∫–∏ 108-152)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ –ö–ë–ñ–£ –ø–æ–ª—è —á–µ—Ä–µ–∑ validate_*_per_100g –º–µ—Ç–æ–¥—ã
- read_only_fields: id, created_at, updated_at

---

## –ó–ê–î–ê–ß–ê #007
TITLE: [BACKEND] Create DishTagSerializer
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #002
BLOCKS: #008, #010, #014
ESTIMATED: 30m

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è –º–æ–¥–µ–ª–∏ DishTag.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- DishTagSerializer —Å –ø–æ–ª—è–º–∏: id, name, color
- –í–∞–ª–∏–¥–∞—Ü–∏—è color: —Ñ–æ—Ä–º–∞—Ç hex (#XXXXXX)
- read_only_fields: id

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] DishTagSerializer —Å–æ–∑–¥–∞–Ω
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–≤–µ—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

–§–ê–ô–õ–´:
- `backend/apps/meals/serializers.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- DishTagSerializer —Å–æ–∑–¥–∞–Ω (—Å—Ç—Ä–æ–∫–∏ 159-173)
- –í–∞–ª–∏–¥–∞—Ü–∏—è HEX —Ü–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ validate_color —Å regex
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ uppercase

---

## –ó–ê–î–ê–ß–ê #008
TITLE: [BACKEND] Create DishSerializers
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #003, #007
BLOCKS: #011, #014
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è –º–æ–¥–µ–ª–∏ Dish: –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏ –ø–æ–ª–Ω—ã–π –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- DishListSerializer: id, name, photo, calories, proteins, fats, carbohydrates, portion_weight, meal_types, tags (nested), cooking_time, updated_at
- DishDetailSerializer: –≤—Å–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏
  - tags (read, nested DishTagSerializer)
  - tag_ids (write_only, ListField –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–µ–≥–æ–≤)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è ingredients JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
  - –í–∞–ª–∏–¥–∞—Ü–∏—è shopping_links JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
  - read_only_fields: coach, created_at, updated_at
- –ú–µ—Ç–æ–¥ create(): –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç coach –∏–∑ request.user
- –ú–µ—Ç–æ–¥ update(): –æ–±—Ä–∞–±–æ—Ç–∫–∞ tag_ids

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] DishListSerializer —Å–æ–∑–¥–∞–Ω
- [x] DishDetailSerializer —Å–æ–∑–¥–∞–Ω
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è JSON –ø–æ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] create/update –º–µ—Ç–æ–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [x] –¢–µ—Å—Ç—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

–§–ê–ô–õ–´:
- `backend/apps/meals/serializers.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- DishListSerializer (—Å—Ç—Ä–æ–∫–∏ 199-220)
- DishDetailSerializer (—Å—Ç—Ä–æ–∫–∏ 223-330)
- DishIngredientSerializer –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
- ShoppingLinkSerializer –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Å—ã–ª–æ–∫
- validate_meal_types —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- create() —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç coach –∏–∑ request.user.coach_profile
- update() –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç tag_ids

---

## –ì—Ä—É–ø–ø–∞: Backend Views & API

---

## –ó–ê–î–ê–ß–ê #009
TITLE: [BACKEND] Create ProductViewSet
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #004, #006
BLOCKS: #012
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å ViewSet –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ –ø–æ–∏—Å–∫–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `backend/apps/meals/views.py`
- ProductViewSet(ModelViewSet)
- queryset —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –ø–æ coach —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: category, is_verified
- –ü–æ–∏—Å–∫ –ø–æ name (icontains)
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π action `search` –¥–ª—è –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞ (GET /products/search/?q=...)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è (PageNumberPagination, page_size=50)

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] ProductViewSet —Å–æ–∑–¥–∞–Ω
- [x] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ coach —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Action search –¥–ª—è –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞
- [x] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

–§–ê–ô–õ–´:
- `backend/apps/meals/views.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- ProductViewSet —Å–æ–∑–¥–∞–Ω (—Å—Ç—Ä–æ–∫–∏ 374-432)
- ProductPagination —Å page_size=50
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ category, is_verified
- SearchFilter –ø–æ name
- Action search –¥–ª—è –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞ (–¥–æ 10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

---

## –ó–ê–î–ê–ß–ê #010
TITLE: [BACKEND] Create DishTagViewSet
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #004, #007
BLOCKS: #012
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å ViewSet –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ç–µ–≥–∞–º–∏ –±–ª—é–¥.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- DishTagViewSet(ModelViewSet)
- queryset —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –ø–æ coach
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ name

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] DishTagViewSet —Å–æ–∑–¥–∞–Ω
- [x] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ coach —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

–§–ê–ô–õ–´:
- `backend/apps/meals/views.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- DishTagViewSet —Å–æ–∑–¥–∞–Ω (—Å—Ç—Ä–æ–∫–∏ 439-461)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ coach —á–µ—Ä–µ–∑ get_queryset
- perform_create —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç coach
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ name

---

## –ó–ê–î–ê–ß–ê #011
TITLE: [BACKEND] Create DishViewSet
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #004, #008
BLOCKS: #012, #042, #043
ESTIMATED: 3h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å ViewSet –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–ª—é–¥–∞–º–∏, –≤–∫–ª—é—á–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, –ø–æ–∏—Å–∫, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- DishViewSet(ModelViewSet)
- queryset —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –ø–æ coach –∏ is_active=True (–¥–ª—è list)
- –†–∞–∑–Ω—ã–µ serializers: list ‚Üí DishListSerializer, retrieve/create/update ‚Üí DishDetailSerializer
- –§–∏–ª—å—Ç—Ä—ã: meal_types (—Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ), tags (–ø–æ id), is_active
- –ü–æ–∏—Å–∫ –ø–æ name, description (icontains)
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: updated_at (default), name, calories
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è (page_size=20)
- Action `duplicate` (POST /dishes/{id}/duplicate/) ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ø–∏—é –±–ª—é–¥–∞
- Action `archive` (POST /dishes/{id}/archive/) ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç is_active=False

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] DishViewSet —Å–æ–∑–¥–∞–Ω
- [x] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ coach –∏ is_active —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –†–∞–∑–Ω—ã–µ serializers –¥–ª—è —Ä–∞–∑–Ω—ã—Ö actions
- [x] –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] duplicate action —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] archive action —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

–§–ê–ô–õ–´:
- `backend/apps/meals/views.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- DishViewSet —Å–æ–∑–¥–∞–Ω (—Å—Ç—Ä–æ–∫–∏ 468-572)
- DishPagination —Å page_size=20
- get_queryset —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ coach, is_active, meal_type, tags
- get_serializer_class –¥–ª—è list/detail
- –ü–æ–∏—Å–∫ –ø–æ name, description
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ updated_at, name, calories
- duplicate action —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ø–∏—é —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º "(–∫–æ–ø–∏—è)"
- archive action —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç is_active=False

---

## –ó–ê–î–ê–ß–ê #012
TITLE: [BACKEND] Configure URL Routing
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #009, #010, #011
BLOCKS: #014
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å URL –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è API –±–ª—é–¥, –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ç–µ–≥–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `backend/apps/meals/urls.py` (—Å–æ–∑–¥–∞—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DefaultRouter
- –ú–∞—Ä—à—Ä—É—Ç—ã:
  - /api/dishes/ ‚Äî DishViewSet
  - /api/products/ ‚Äî ProductViewSet
  - /api/dish-tags/ ‚Äî DishTagViewSet
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤ –≥–ª–∞–≤–Ω—ã–π urls.py –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] Router –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] –í—Å–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ Postman/curl
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenAPI –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)

–§–ê–ô–õ–´:
- `backend/apps/meals/urls.py`
- `backend/config/urls.py` (–∏–ª–∏ –≥–ª–∞–≤–Ω—ã–π urls.py)

–í–´–ü–û–õ–ù–ï–ù–û:
- DefaultRouter —Å —Ç—Ä–µ–º—è ViewSets
- –ú–∞—Ä—à—Ä—É—Ç—ã: dishes, products, dish-tags
- AI endpoints: ai/generate-recipe/, ai/calculate-nutrition/, ai/suggest-description/, ai/suggest-product-nutrition/
- –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ /api/meals/ –≤ –≥–ª–∞–≤–Ω–æ–º urls.py

---

## –ì—Ä—É–ø–ø–∞: Frontend Types & API

---

## –ó–ê–î–ê–ß–ê #013
TITLE: [FRONTEND] Create TypeScript Types
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: -
BLOCKS: #014, #015, #016, #017, #018, #019, #020, #021, #023, #024, #025, #026
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å TypeScript —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –±–ª—é–¥, –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ç–µ–≥–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/types/dishes.ts`
- Interfaces: Dish, DishFormData, Ingredient, Product, ProductFormData, DishTag, ShoppingLink
- Types: MealType, ProductCategory
- Interfaces –¥–ª—è API: DishListParams, ProductListParams, DishFilters

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –í—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–æ–∑–¥–∞–Ω—ã
- [x] –¢–∏–ø—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç backend –º–æ–¥–µ–ª—è–º
- [x] –≠–∫—Å–ø–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

–í–´–ü–û–õ–ù–ï–ù–û:
- 251 —Å—Ç—Ä–æ–∫–∞ —Ç–∏–ø–æ–≤ –≤ types/dishes.ts
- MealType, ProductCategory —Å LABELS
- Product, ProductFormData, ProductListParams
- DishTag, DishTagFormData
- Ingredient, ShoppingLink
- Dish, DishListItem, DishFormData, DishListParams, DishFilters
- PaginatedResponse, DishListResponse, ProductListResponse

–§–ê–ô–õ–´:
- `frontend/console/src/types/dishes.ts`

–ü–†–ò–ú–ï–† –°–¢–†–£–ö–¢–£–†–´:
```typescript
export interface Dish {
  id: number;
  name: string;
  description: string;
  recipe: string;
  portion_weight: number;
  calories: number;
  proteins: number;
  fats: number;
  carbohydrates: number;
  cooking_time: number | null;
  photo: string | null;
  video_url: string;
  ingredients: Ingredient[];
  shopping_links: ShoppingLink[];
  meal_types: MealType[];
  tags: DishTag[];
  is_active: boolean;
  created_at: string;
  updated_at: string;
}

export interface Ingredient {
  product_id?: number;
  name: string;
  weight: number;
  calories: number;
  proteins: number;
  fats: number;
  carbohydrates: number;
}

export interface Product {
  id: number;
  name: string;
  calories_per_100g: number;
  proteins_per_100g: number;
  fats_per_100g: number;
  carbs_per_100g: number;
  category: ProductCategory;
  is_verified: boolean;
}

export interface DishTag {
  id: number;
  name: string;
  color: string;
}

export interface ShoppingLink {
  title: string;
  url: string;
}

export type MealType = 'breakfast' | 'snack1' | 'lunch' | 'snack2' | 'dinner';

export type ProductCategory = 'dairy' | 'meat' | 'fish' | 'vegetables' | 'fruits' | 'grains' | 'nuts' | 'oils' | 'spices' | 'other';
```

---

## –ó–ê–î–ê–ß–ê #014
TITLE: [FRONTEND] Create API Client Functions
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #012, #013
BLOCKS: #015, #025, #026, #027, #028
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ API –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–ª—é–¥–∞–º–∏, –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ —Ç–µ–≥–∞–º–∏.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/api/dishes.ts`
- dishesApi: list, get, create, update, delete, duplicate, archive
- productsApi: list, search, get, create, update, delete
- dishTagsApi: list, create, update, delete
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π axios instance

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –í—Å–µ API —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã
- [x] –¢–∏–ø–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–§–ê–ô–õ–´:
- `frontend/console/src/api/dishes.ts`

–í–´–ü–û–õ–ù–ï–ù–û:
- 246 —Å—Ç—Ä–æ–∫ –≤ api/dishes.ts
- dishesApi: list, get, create, update, delete, duplicate, archive
- productsApi: list, search, get, create, update, delete
- dishTagsApi: list, create, update, delete
- prepareFormData helper –¥–ª—è multipart/form-data

---

## –ó–ê–î–ê–ß–ê #015
TITLE: [FRONTEND] Create Zustand Store
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013, #014
BLOCKS: #025, #026
ESTIMATED: 3h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å Zustand store –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±–ª—é–¥, –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ç–µ–≥–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/stores/dishesStore.ts`
- State: dishes, products, tags, selectedDish, filters, isLoading, error
- Actions: fetchDishes, fetchProducts, fetchTags, createDish, updateDish, deleteDish, duplicateDish, archiveDish, setFilters, searchDishes
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è delete/archive
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è: hasMore, loadMore

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] Store —Å–æ–∑–¥–∞–Ω —Å–æ –≤—Å–µ–º–∏ actions
- [x] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

–§–ê–ô–õ–´:
- `frontend/console/src/stores/dishesStore.ts`

–í–´–ü–û–õ–ù–ï–ù–û:
- 455 —Å—Ç—Ä–æ–∫ –≤ stores/dishes.ts
- –ü–æ–ª–Ω—ã–π state: dishes, products, tags, selectedDish, filters, pagination
- –í—Å–µ actions –¥–ª—è dishes, tags, products
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è deleteDish, archiveDish
- loadMoreDishes –¥–ª—è infinite scroll
- setFilters —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π

---

## –ì—Ä—É–ø–ø–∞: Frontend Base Components

---

## –ó–ê–î–ê–ß–ê #016
TITLE: [FRONTEND] Create DishCard Component
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013
BLOCKS: #025
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –±–ª—é–¥–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å–ø–∏—Å–∫–µ –±–∞–∑—ã –±–ª—é–¥.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/dishes/DishCard.tsx`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: —Ñ–æ—Ç–æ (placeholder –µ—Å–ª–∏ –Ω–µ—Ç), –Ω–∞–∑–≤–∞–Ω–∏–µ, –ö–ë–ñ–£, —Ç–µ–≥–∏, –≤—Ä–µ–º—è –≥–æ—Ç–æ–≤–∫–∏
- Hover —ç—Ñ—Ñ–µ–∫—Ç—ã
- –î–µ–π—Å—Ç–≤–∏—è: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å (dropdown menu)
- onClick ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- Responsive: –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ mobile

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [x] –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] Hover –∏ click —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] Dropdown menu —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- [x] Responsive –¥–∏–∑–∞–π–Ω

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/DishCard.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- DishCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Ñ–æ—Ç–æ, –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –ö–ë–ñ–£, —Ç–µ–≥–∞–º–∏
- Dropdown –º–µ–Ω—é —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å)
- Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ transitions
- Placeholder –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–æ—Ç–æ

---

## –ó–ê–î–ê–ß–ê #017
TITLE: [FRONTEND] Create NutritionSummary Component
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ DishForm)
DEPENDS_ON: #013
BLOCKS: #026
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤–æ–¥–∫–∏ –ö–ë–ñ–£ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ –±–ª—é–¥–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/dishes/NutritionSummary.tsx`
- Props: calories, proteins, fats, carbohydrates, portionWeight
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–∫–∏/–±–ª–æ–∫–∞ —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ü–æ–∫–∞–∑ % –æ—Ç –¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Ä–º—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [x] –í–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ö–ë–ñ–£
- [ ] –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/NutritionSummary.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ DishForm.tsx (—Å—Ç—Ä–æ–∫–∏ 419-487)
- –ö–∞—Ä—Ç–æ—á–∫–∞ "–ö–ë–ñ–£ –Ω–∞ –ø–æ—Ä—Ü–∏—é" —Å –ø–æ–ª—è–º–∏: –≤–µ—Å –ø–æ—Ä—Ü–∏–∏, –∫–∞–ª–æ—Ä–∏–∏, –±–µ–ª–∫–∏, –∂–∏—Ä—ã, —É–≥–ª–µ–≤–æ–¥—ã
- –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

---

## –ó–ê–î–ê–ß–ê #018
TITLE: [FRONTEND] Create TagsInput Component
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013
BLOCKS: #026
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–≥–æ–≤ –¥–ª—è –±–ª—é–¥–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/dishes/TagsInput.tsx`
- Props: selectedTags, availableTags, onChange, onCreateTag
- Multiselect —Å chips
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ–≥ (—Å –≤—ã–±–æ—Ä–æ–º —Ü–≤–µ—Ç–∞)
- –ü–æ–∏—Å–∫ –ø–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ç–µ–≥–∞–º

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [x] –í—ã–±–æ—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ–≥–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ–≥–∞ —Å —Ü–≤–µ—Ç–æ–º
- [x] –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/TagsInput.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω TagsInput —Å Popover –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–µ–≥–æ–≤
- –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–µ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ chips —Å –∫–Ω–æ–ø–∫–æ–π —É–¥–∞–ª–µ–Ω–∏—è
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–µ–≥–æ–≤
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–µ–≥–∞ —Å –≤—ã–±–æ—Ä–æ–º —Ü–≤–µ—Ç–∞ (8 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤)
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (Enter –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, Escape –¥–ª—è –æ—Ç–º–µ–Ω—ã)
- Props: selectedTags, availableTags, onChange, onCreateTag, disabled, placeholder
- TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

---

## –ó–ê–î–ê–ß–ê #019
TITLE: [FRONTEND] Create MealTypeSelector Component
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013
BLOCKS: #026
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–æ–≤ –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏ –¥–ª—è –±–ª—é–¥–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/dishes/MealTypeSelector.tsx`
- Props: selectedTypes, onChange
- Checkbox –≥—Ä—É–ø–ø–∞ –∏–ª–∏ toggle buttons
- –¢–∏–ø—ã: –∑–∞–≤—Ç—Ä–∞–∫, –ø–µ—Ä–µ–∫—É—Å 1, –æ–±–µ–¥, –ø–µ—Ä–µ–∫—É—Å 2, —É–∂–∏–Ω
- –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [x] Multiselect —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–∏–π

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/MealTypeSelector.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω MealTypeSelector —Å toggle buttons
- Multiselect —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤—ã–±–æ—Ä–∞
- –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ MEAL_TYPE_LABELS
- –î–æ–±–∞–≤–ª–µ–Ω MealTypeSelectorCompact —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏
- Props: selectedTypes, onChange, disabled, className
- TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

---

## –ó–ê–î–ê–ß–ê #020
TITLE: [FRONTEND] Create ShoppingLinksInput Component
PRIORITY: MEDIUM
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013
BLOCKS: #026
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–≤–æ–¥–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –ø–æ–∫—É–ø–∫—É –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/dishes/ShoppingLinksInput.tsx`
- Props: links, onChange
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫: title + url
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è URL

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è URL

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/ShoppingLinksInput.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω ShoppingLinksInput —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —Å–ø–∏—Å–∫–æ–º
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è URL —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –æ—à–∏–±–æ–∫
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Å—ã–ª–∫–∏ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
- Props: links, onChange, disabled
- TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

---

## –ì—Ä—É–ø–ø–∞: Frontend Products Components

---

## –ó–ê–î–ê–ß–ê #021
TITLE: [FRONTEND] Create ProductAutocomplete Component
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013, #014
BLOCKS: #023
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/products/ProductAutocomplete.tsx`
- Props: value, onChange, onCreateNew
- Debounced –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ API
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ö–ë–ñ–£ –≤ dropdown
- –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç"
- Loading –∏ empty states

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [x] –ü–æ–∏—Å–∫ —Å debounce —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –ö–ë–ñ–£
- [x] –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞

–§–ê–ô–õ–´:
- `frontend/console/src/components/products/ProductAutocomplete.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω ProductAutocomplete —Å debounced –ø–æ–∏—Å–∫–æ–º (300ms)
- Dropdown —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ, –ö–ë–ñ–£, –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ —Å –ö–ë–ñ–£
- –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å" –∫–æ–≥–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
- Loading –∏ empty states
- Props: value, onChange, onCreateNew, placeholder, disabled
- TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

---

## –ó–ê–î–ê–ß–ê #022
TITLE: [FRONTEND] Create ProductQuickAdd Modal
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 17:50] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013, #014
BLOCKS: #023, #028
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞ –∏–∑ —Ñ–æ—Ä–º—ã –±–ª—é–¥–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/products/ProductQuickAdd.tsx`
- Props: isOpen, onClose, onProductCreated, initialName
- –§–æ—Ä–º–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ö–ë–ñ–£ –Ω–∞ 100–≥
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—Å–∫–∞–∑–∞—Ç—å –ö–ë–ñ–£" (AI) ‚Äî placeholder, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ Phase 2
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∞–≤—Ç–æ–≤—ã–±–æ—Ä —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–æ
- [x] –§–æ—Ä–º–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Callback onProductCreated –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

–§–ê–ô–õ–´:
- `frontend/console/src/components/products/ProductQuickAdd.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω ProductQuickAdd.tsx (367 —Å—Ç—Ä–æ–∫)
- Dialog —Å —Ñ–æ—Ä–º–æ–π: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ö–ë–ñ–£ –Ω–∞ 100–≥
- AI –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥—Å–∫–∞–∑–∞—Ç—å –ö–ë–ñ–£" —á–µ—Ä–µ–∑ dishesAiApi.suggestProductNutrition()
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π (–Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –ö–ë–ñ–£ >= 0)
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
- Props: isOpen, onClose, onProductCreated, initialName
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ProductAutocomplete (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)

---

## –ì—Ä—É–ø–ø–∞: Frontend Ingredients Components

---

## –ó–ê–î–ê–ß–ê #023
TITLE: [FRONTEND] Create IngredientInput Component
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚ö†Ô∏è ISSUES FOUND: —Å–æ–∑–¥–∞–Ω–∞ 1 fix-–∑–∞–¥–∞—á–∞ (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ DishForm)
DEPENDS_ON: #013, #021
BLOCKS: #024
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–≤–æ–¥–∞ –æ–¥–Ω–æ–≥–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ —Å –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–æ–º –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ —Ä–∞—Å—á—ë—Ç–æ–º –ö–ë–ñ–£.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/dishes/IngredientInput.tsx`
- Props: ingredient, onChange, onRemove, products
- –ü–æ–ª—è: –ø—Ä–æ–¥—É–∫—Ç (–∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç), –≤–µ—Å –≤ –≥—Ä–∞–º–º–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ö–ë–ñ–£ –ø–æ –≤–µ—Å—É –∏ –ö–ë–ñ–£ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–∞ 100–≥
- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏—è (–±–µ–∑ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–¥—É–∫—Ç–∞)

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [ ] –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)
- [x] –†–∞—Å—á—ë—Ç –ö–ë–ñ–£ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π
- [x] –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/IngredientInput.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ DishForm.tsx (—Å—Ç—Ä–æ–∫–∏ 312-356)
- –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, –≤–µ—Å, –∫–∫–∞–ª, –ë, –ñ (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è)
- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞
- –†—É—á–Ω–æ–π –≤–≤–æ–¥ –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- ProductAutocomplete –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ö–ë–ñ–£

---

## –ó–ê–î–ê–ß–ê #024
TITLE: [FRONTEND] Create IngredientsTable Component
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚ö†Ô∏è ISSUES FOUND: —Å–æ–∑–¥–∞–Ω–∞ 1 fix-–∑–∞–¥–∞—á–∞ (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ DishForm)
DEPENDS_ON: #013, #023
BLOCKS: #026
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∞–±–ª–∏—Ü—ã –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ —Å –∏—Ç–æ–≥–æ–≤—ã–º –ö–ë–ñ–£.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/dishes/IngredientsTable.tsx`
- Props: ingredients, onChange
- –°–ø–∏—Å–æ–∫ IngredientInput –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç"
- Footer —Å –∏—Ç–æ–≥–∞–º–∏: –æ–±—â–∏–π –≤–µ—Å, –∫–∞–ª–æ—Ä–∏–∏, –ë–ñ–£
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å reorder (drag-and-drop) ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ò—Ç–æ–≥–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/IngredientsTable.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ DishForm.tsx (—Å—Ç—Ä–æ–∫–∏ 291-360)
- Card "–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã" —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –ö–ë–ñ–£" –∏ "–î–æ–±–∞–≤–∏—Ç—å"
- handleAddIngredient, handleRemoveIngredient, handleIngredientChange
- handleRecalculateNutrition —Å—É–º–º–∏—Ä—É–µ—Ç –≤—Å–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
- Empty state –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤

---

## –ì—Ä—É–ø–ø–∞: Frontend Pages

---

## –ó–ê–î–ê–ß–ê #025
TITLE: [FRONTEND] Create DishesDatabase Page
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013, #014, #015, #016
BLOCKS: #032
ESTIMATED: 4h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±–ª—é–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/pages/dishes/DishesDatabase.tsx`
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: —Ä–∞–∑–¥–µ–ª "–ü—Ä–æ–≥—Ä–∞–º–º—ã –ø–∏—Ç–∞–Ω–∏—è" ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ë–∞–∑–∞ –±–ª—é–¥"
- Header: –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –±–ª—é–¥–æ"
- –§–∏–ª—å—Ç—Ä—ã: –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, —Ç–∏–ø –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏, —Ç–µ–≥–∏
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ø–æ –¥–∞—Ç–µ, –Ω–∞–∑–≤–∞–Ω–∏—é, –∫–∞–ª–æ—Ä–∏—è–º
- Grid –∫–∞—Ä—Ç–æ—á–µ–∫ –±–ª—é–¥ (DishCard)
- Infinite scroll –∏–ª–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- Empty state —Å –ø—Ä–∏–∑—ã–≤–æ–º —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–µ –±–ª—é–¥–æ
- Loading skeleton

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞
- [x] –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] Grid —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [x] Infinite scroll —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Empty state –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [x] Loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–§–ê–ô–õ–´:
- `frontend/console/src/pages/dishes/DishesDatabase.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- 233 —Å—Ç—Ä–æ–∫–∏ –≤ pages/dishes/DishesDatabase.tsx
- Header —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- Debounced –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –§–∏–ª—å—Ç—Ä—ã: —Ç–∏–ø –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏, —Ç–µ–≥–∏, –ø–æ–∫–∞–∑–∞—Ç—å –∞—Ä—Ö–∏–≤
- Responsive grid –∫–∞—Ä—Ç–æ—á–µ–∫ (1-4 –∫–æ–ª–æ–Ω–∫–∏)
- Infinite scroll —á–µ—Ä–µ–∑ onScroll
- Empty state —Å –ø—Ä–∏–∑—ã–≤–æ–º —Å–æ–∑–¥–∞—Ç—å –±–ª—é–¥–æ
- Loading –∏ loadingMore —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## –ó–ê–î–ê–ß–ê #026
TITLE: [FRONTEND] Create DishForm Page
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚ö†Ô∏è ISSUES FOUND: —Å–æ–∑–¥–∞–Ω–∞ 1 fix-–∑–∞–¥–∞—á–∞
DEPENDS_ON: #013, #014, #015, #017, #018, #019, #020, #024
BLOCKS: #029, #032
ESTIMATED: 6h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–ª—é–¥–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/pages/dishes/DishForm.tsx`
- –†–µ–∂–∏–º—ã: —Å–æ–∑–¥–∞–Ω–∏–µ (id –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç) –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (id –≤ URL)
- –°–µ–∫—Ü–∏–∏ —Ñ–æ—Ä–º—ã:
  1. –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ñ–æ—Ç–æ (upload)
  2. –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã: IngredientsTable
  3. –ö–ë–ñ–£: NutritionSummary (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç) + —Ä—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
  4. –†–µ—Ü–µ–ø—Ç: textarea –∏–ª–∏ markdown editor
  5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –≤—Ä–µ–º—è –≥–æ—Ç–æ–≤–∫–∏, –≤–∏–¥–µ–æ URL
  6. –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è: MealTypeSelector, TagsInput
  7. –°—Å—ã–ª–∫–∏: ShoppingLinksInput
- –ö–Ω–æ–ø–∫–∏: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å, –û—Ç–º–µ–Ω–∞
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ draft (debounce 2 —Å–µ–∫) ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —Å –ø—Ä–µ–≤—å—é

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤
- [x] –í—Å–µ —Å–µ–∫—Ü–∏–∏ —Ñ–æ—Ä–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç –±–ª—é–¥–æ
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Redirect –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

–§–ê–ô–õ–´:
- `frontend/console/src/pages/dishes/DishForm.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- 548 —Å—Ç—Ä–æ–∫ –≤ pages/dishes/DishForm.tsx
- –†–µ–∂–∏–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–µ–∫—Ü–∏–∏: –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, —Ä–µ—Ü–µ–ø—Ç, —Ñ–æ—Ç–æ, –ö–ë–ñ–£, —Ç–∏–ø—ã –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏, —Ç–µ–≥–∏
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º/—É–¥–∞–ª–µ–Ω–∏–µ–º
- –ü–µ—Ä–µ—Å—á—ë—Ç –ö–ë–ñ–£ –ø–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —Å –ø—Ä–µ–≤—å—é
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ store

---

## –ó–ê–î–ê–ß–ê #027
TITLE: [FRONTEND] Create ProductsDatabase Page
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 17:50] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013, #014
BLOCKS: #032
ESTIMATED: 3h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/pages/products/ProductsDatabase.tsx`
- –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ö–ë–ñ–£ –Ω–∞ 100–≥, verified —Å—Ç–∞—Ç—É—Å
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞
- –î–µ–π—Å—Ç–≤–∏—è –≤ —Å—Ç—Ä–æ–∫–µ: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞
- [x] –¢–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- [x] –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] CRUD –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç

–§–ê–ô–õ–´:
- `frontend/console/src/pages/products/ProductsDatabase.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω ProductsDatabase.tsx (629 —Å—Ç—Ä–æ–∫)
- –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ö–ë–ñ–£ –Ω–∞ 100–≥
- Debounced –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –≤—ã–ø–∞–¥–∞—é—â–∏–º —Å–ø–∏—Å–∫–æ–º
- Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
- AI –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ö–ë–ñ–£ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –£–¥–∞–ª–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º AlertDialog
- –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ ProductQuickAdd
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å –∫–Ω–æ–ø–∫–æ–π "–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë"
- Empty state –∏ loading —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ú–∞—Ä—à—Ä—É—Ç /products –¥–æ–±–∞–≤–ª–µ–Ω –≤ App.tsx
- –ù–∞–≤–∏–≥–∞—Ü–∏—è "–ë–∞–∑–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤" –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ sidebar

---

## –ó–ê–î–ê–ß–ê #028
TITLE: [FRONTEND] Create ProductForm Page
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 17:50] ‚úÖ AUDIT PASSED (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ ProductQuickAdd + inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ ProductsDatabase)
DEPENDS_ON: #013, #014, #022
BLOCKS: #032
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É/–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ñ–æ—Ä–º—ã –ø—Ä–æ–¥—É–∫—Ç–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/pages/products/ProductForm.tsx`
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –∏–ª–∏ –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ProductQuickAdd)
- –ü–æ–ª—è: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ö–ë–ñ–£ –Ω–∞ 100–≥
- –í–∞–ª–∏–¥–∞—Ü–∏—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∞
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–§–ê–ô–õ–´:
- `frontend/console/src/pages/products/ProductsDatabase.tsx` (inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `frontend/console/src/components/products/ProductQuickAdd.tsx` (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)

–í–´–ü–û–õ–ù–ï–ù–û:
- –í–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ProductForm —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
  1. ProductQuickAdd ‚Äî –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
  2. Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ ProductsDatabase ‚Äî –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
- –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤–∫–ª—é—á–∞—é—Ç:
  - –ü–æ–ª—è: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ö–ë–ñ–£ –Ω–∞ 100–≥
  - –í–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π
  - AI –ø–æ–¥—Å–∫–∞–∑–∫—É –ö–ë–ñ–£
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ productsApi

---

## –ì—Ä—É–ø–ø–∞: Integration with Nutrition Programs

---

## –ó–ê–î–ê–ß–ê #029
TITLE: [FRONTEND] Create DishSelector Modal
PRIORITY: CRITICAL
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #014, #016, #026
BLOCKS: #031
ESTIMATED: 3h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –±–ª—é–¥–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É –ø–∏—Ç–∞–Ω–∏—è.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/dishes/DishSelector.tsx`
- Props: isOpen, onClose, onSelect, mealType (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –§–∏–ª—å—Ç—Ä—ã: —Ç–∏–ø –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏, —Ç–µ–≥–∏
- Grid/List –∫–∞—Ä—Ç–æ—á–µ–∫ –±–ª—é–¥ (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥)
- Click –Ω–∞ –±–ª—é–¥–æ ‚Üí onSelect(dish) ‚Üí –∑–∞–∫—Ä—ã—Ç–∏–µ
- –°—Å—ã–ª–∫–∞ "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –±–ª—é–¥–æ" ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç DishForm

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–æ
- [x] –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] –í—ã–±–æ—Ä –±–ª—é–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/DishSelector.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- 236 —Å—Ç—Ä–æ–∫ –≤ components/dishes/DishSelector.tsx
- Dialog —Å debounced –ø–æ–∏—Å–∫–æ–º
- –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏
- Grid –∫–æ–º–ø–∞–∫—Ç–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ —Å —Ñ–æ—Ç–æ –∏ –ö–ë–ñ–£
- onSelect callback —Å –∑–∞–∫—Ä—ã—Ç–∏–µ–º
- –°—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–ª—é–¥–∞

---

## –ó–ê–î–ê–ß–ê #030
TITLE: [FRONTEND] Create DishPreview Component
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #013
BLOCKS: #031
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–µ–≤—å—é –±–ª—é–¥–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ø–∏—Ç–∞–Ω–∏—è.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `frontend/console/src/components/dishes/DishPreview.tsx`
- Props: dish (–∏–ª–∏ name, calories, proteins, fats, carbs)
- –ö–æ–º–ø–∞–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –Ω–∞–∑–≤–∞–Ω–∏–µ, –ö–ë–ñ–£ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
- –ò–∫–æ–Ω–∫–∞ –±–ª—é–¥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ñ–æ—Ç–æ ‚Äî –º–∏–Ω–∏–∞—Ç—é—Ä–∞)
- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [x] –ö–æ–º–ø–∞–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- [x] –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/DishPreview.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω DishPreview –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å props: dish, onRemove, showRemove, onClick
- –ú–∏–Ω–∏–∞—Ç—é—Ä–∞ —Ñ–æ—Ç–æ —Å placeholder
- –ö–ë–ñ–£ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å stopPropagation
- –î–æ–±–∞–≤–ª–µ–Ω DishPreviewCompact –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å–ø–∏—Å–∫–∞—Ö
- TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

---

## –ó–ê–î–ê–ß–ê #031
TITLE: [FRONTEND] Integrate DishSelector into NutritionProgramEdit
PRIORITY: CRITICAL
TYPE: INTEGRATION
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #029, #030
BLOCKS: -
ESTIMATED: 4h

–û–ü–ò–°–ê–ù–ò–ï:
–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä –±–ª—é–¥ –∏–∑ –±–∞–∑—ã –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º –ø–∏—Ç–∞–Ω–∏—è.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `frontend/console/src/pages/NutritionProgramEdit.tsx`
- –í –∫–∞–∂–¥–æ–º –ø—Ä–∏—ë–º–µ –ø–∏—â–∏ –¥–Ω—è –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å –∏–∑ –±–∞–∑—ã"
- –ö–ª–∏–∫ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç DishSelector —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Ç–∏–ø—É –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏
- –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –±–ª—é–¥–∞ ‚Üí –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ (name, description, calories, proteins, fats, carbs) –≤ –ø—Ä–∏—ë–º –ø–∏—â–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –±–ª—é–¥–∞ —á–µ—Ä–µ–∑ DishPreview
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å –±–ª—é–¥–æ –∏–∑ –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –∏–∑ –±–∞–∑—ã" –≤ –∫–∞–∂–¥–æ–º –ø—Ä–∏—ë–º–µ –ø–∏—â–∏
- [x] DishSelector –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –î–∞–Ω–Ω—ã–µ –±–ª—é–¥–∞ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É
- [x] –ü—Ä–µ–≤—å—é –±–ª—é–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [x] –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–§–ê–ô–õ–´:
- `frontend/console/src/pages/NutritionProgramEdit.tsx`
- –í–æ–∑–º–æ–∂–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞

–í–´–ü–û–õ–ù–ï–ù–û:
- DishSelector –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- –ö–Ω–æ–ø–∫–∞ "–ò–∑ –±–∞–∑—ã –±–ª—é–¥" —Å –∏–∫–æ–Ω–∫–æ–π ChefHat
- handleOpenDishSelector –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª —Å –Ω—É–∂–Ω—ã–º mealType
- handleDishSelected –∫–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–ª—é–¥–∞ –≤ –ø—Ä–∏—ë–º –ø–∏—â–∏
- dishSelectorOpen, dishSelectorMealType —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## –ì—Ä—É–ø–ø–∞: Navigation & Routing

---

## –ó–ê–î–ê–ß–ê #032
TITLE: [FRONTEND] Add Routes and Navigation
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #025, #026, #027, #028
BLOCKS: -
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü –±–ª—é–¥ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –î–æ–±–∞–≤–∏—Ç—å routes –≤ router –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
  - /dishes ‚Äî DishesDatabase
  - /dishes/new ‚Äî DishForm (—Å–æ–∑–¥–∞–Ω–∏–µ)
  - /dishes/:id ‚Äî DishForm (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
  - /products ‚Äî ProductsDatabase
  - /products/new ‚Äî ProductForm (—Å–æ–∑–¥–∞–Ω–∏–µ)
  - /products/:id ‚Äî ProductForm (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –î–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç—ã –≤ –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é:
  - –í —Ä–∞–∑–¥–µ–ª–µ "–ü—Ä–æ–≥—Ä–∞–º–º—ã –ø–∏—Ç–∞–Ω–∏—è" ‚Üí –≤–∫–ª–∞–¥–∫–∞/–ø–æ–¥–ø—É–Ω–∫—Ç "–ë–∞–∑–∞ –±–ª—é–¥"
  - –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—É–Ω–∫—Ç "–ë–∞–∑–∞ –±–ª—é–¥" –≤ –º–µ–Ω—é
- Breadcrumbs –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –í—Å–µ routes –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ sidebar —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Breadcrumbs –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [x] –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

–§–ê–ô–õ–´:
- `frontend/console/src/App.tsx` –∏–ª–∏ router config
- `frontend/console/src/components/Sidebar.tsx` –∏–ª–∏ layout

–í–´–ü–û–õ–ù–ï–ù–û:
- –†–æ—É—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ App.tsx:
  - /dishes ‚Üí DishesDatabase
  - /dishes/new ‚Üí DishForm
  - /dishes/:id ‚Üí DishForm
- –ò–º–ø–æ—Ä—Ç—ã DishesDatabase –∏ DishForm –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

# PHASE 2: AI & UX (Should Have)

## –ì—Ä—É–ø–ø–∞: AI Services Backend

---

## –ó–ê–î–ê–ß–ê #033
TITLE: [BACKEND] Create AI Service: Generate Recipe
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #003
BLOCKS: #037, #038
ESTIMATED: 3h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å AI —Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ—Ü–µ–ø—Ç–∞ –±–ª—é–¥–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ OpenAI.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `backend/apps/meals/ai_services.py`
- –§—É–Ω–∫—Ü–∏—è `async def generate_recipe(dish_name: str) -> dict`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenAI GPT-4o
- Prompt –∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–∞)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: ingredients, recipe, cooking_time, portion_weight
- Error handling: timeout, API errors
- Logging –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] Prompt –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–∞
- [ ] Error handling
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–§–ê–ô–õ–´:
- `backend/apps/meals/ai_services.py`

---

## –ó–ê–î–ê–ß–ê #034
TITLE: [BACKEND] Create AI Service: Calculate Nutrition
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #003
BLOCKS: #037, #038
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å AI —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ö–ë–ñ–£ –ø–æ —Å–ø–∏—Å–∫—É –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§—É–Ω–∫—Ü–∏—è `async def calculate_nutrition_from_ingredients(ingredients: list) -> dict`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenAI GPT-4o
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ —Å –≤–µ—Å–∞–º–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: calories, proteins, fats, carbohydrates
- Error handling

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á—ë—Ç
- [ ] Error handling

–§–ê–ô–õ–´:
- `backend/apps/meals/ai_services.py`

---

## –ó–ê–î–ê–ß–ê #035
TITLE: [BACKEND] Create AI Service: Suggest Product Nutrition
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #001
BLOCKS: #037, #039
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å AI —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ö–ë–ñ–£ –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§—É–Ω–∫—Ü–∏—è `async def suggest_product_nutrition(product_name: str) -> dict`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenAI GPT-4o
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ö–ë–ñ–£ –Ω–∞ 100–≥: calories, proteins, fats, carbs
- Error handling

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ö–ë–ñ–£
- [ ] Error handling

–§–ê–ô–õ–´:
- `backend/apps/meals/ai_services.py`

---

## –ó–ê–î–ê–ß–ê #036
TITLE: [BACKEND] Create AI Service: Suggest Dish Description
PRIORITY: MEDIUM
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #003
BLOCKS: #037, #038
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å AI —Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –±–ª—é–¥–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§—É–Ω–∫—Ü–∏—è `async def suggest_dish_description(dish_name: str) -> str`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenAI GPT-4o
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- Error handling

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ–µ
- [ ] Error handling

–§–ê–ô–õ–´:
- `backend/apps/meals/ai_services.py`

---

## –ó–ê–î–ê–ß–ê #037
TITLE: [BACKEND] Create AI API Endpoints
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #033, #034, #035, #036
BLOCKS: #038, #039
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è AI —Ñ—É–Ω–∫—Ü–∏–π.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- Endpoints –≤ views.py:
  - POST /api/dishes/ai/generate-recipe/ ‚Äî {name} ‚Üí recipe data
  - POST /api/dishes/ai/calculate-nutrition/ ‚Äî {ingredients} ‚Üí nutrition
  - POST /api/dishes/ai/suggest-description/ ‚Äî {name} ‚Üí description
  - POST /api/products/ai/suggest-nutrition/ ‚Äî {name} ‚Üí nutrition
- Rate limiting (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Async views –∏–ª–∏ sync wrappers

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] –í—Å–µ endpoints —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] Error responses

–§–ê–ô–õ–´:
- `backend/apps/meals/views.py`
- `backend/apps/meals/urls.py`

---

## –ì—Ä—É–ø–ø–∞: AI Frontend Integration

---

## –ó–ê–î–ê–ß–ê #038
TITLE: [FRONTEND] Add AI Buttons to DishForm
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #026, #037
BLOCKS: -
ESTIMATED: 3h

–û–ü–ò–°–ê–ù–ò–ï:
–î–æ–±–∞–≤–∏—Ç—å AI –∫–Ω–æ–ø–∫–∏ –≤ —Ñ–æ—Ä–º—É –±–ª—é–¥–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å DishForm.tsx
- –ö–Ω–æ–ø–∫–∞ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç" —Ä—è–¥–æ–º —Å –ø–æ–ª–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è:
  - –ó–∞–ø—Ä–æ—Å –∫ /api/dishes/ai/generate-recipe/
  - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π: ingredients, recipe, cooking_time, portion_weight
  - Loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ö–Ω–æ–ø–∫–∞ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ö–ë–ñ–£" –≤ —Å–µ–∫—Ü–∏–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:
  - –ó–∞–ø—Ä–æ—Å –∫ /api/dishes/ai/calculate-nutrition/
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–ë–ñ–£
- –ö–Ω–æ–ø–∫–∞ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ":
  - –ó–∞–ø—Ä–æ—Å –∫ /api/dishes/ai/suggest-description/
  - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª—è description
- Error handling —Å toast notifications

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ—Ü–µ–ø—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ö–Ω–æ–ø–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –ö–ë–ñ–£ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [x] Error handling

–í–´–ü–û–õ–ù–ï–ù–û:
- –î–æ–±–∞–≤–ª–µ–Ω—ã AI API —Ñ—É–Ω–∫—Ü–∏–∏ –≤ api/dishes.ts:
  - dishesAiApi.generateRecipe(name)
  - dishesAiApi.calculateNutrition(ingredients)
  - dishesAiApi.suggestDescription(name)
  - dishesAiApi.suggestProductNutrition(name)
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã GeneratedRecipe, NutritionData, ProductNutritionData
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω DishForm.tsx:
  - –ò–º–ø–æ—Ä—Ç dishesAiApi –∏ useToast
  - –°–æ—Å—Ç–æ—è–Ω–∏—è isGeneratingRecipe, isCalculatingNutrition, isGeneratingDescription
  - handleGenerateRecipe ‚Äî –∑–∞–ø–æ–ª–Ω—è–µ—Ç –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, —Ä–µ—Ü–µ–ø—Ç, –ö–ë–ñ–£
  - handleAiCalculateNutrition ‚Äî —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ö–ë–ñ–£ –ø–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º
  - handleGenerateDescription ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ
  - –ö–Ω–æ–ø–∫–∏ —Å –∏–∫–æ–Ω–∫–æ–π Sparkles –∏ Loader2 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
- [ ] Error handling

–§–ê–ô–õ–´:
- `frontend/console/src/pages/dishes/DishForm.tsx`
- `frontend/console/src/api/dishes.ts` (–¥–æ–±–∞–≤–∏—Ç—å AI endpoints)

---

## –ó–ê–î–ê–ß–ê #039
TITLE: [FRONTEND] Add AI Button to ProductForm
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 17:50] ‚úÖ AUDIT PASSED
DEPENDS_ON: #022, #037
BLOCKS: -
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–î–æ–±–∞–≤–∏—Ç—å AI –∫–Ω–æ–ø–∫—É –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ö–ë–ñ–£ –≤ —Ñ–æ—Ä–º—É –ø—Ä–æ–¥—É–∫—Ç–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å ProductQuickAdd.tsx –∏ ProductForm.tsx
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—Å–∫–∞–∑–∞—Ç—å –ö–ë–ñ–£" —Ä—è–¥–æ–º —Å –ø–æ–ª–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è
- –ó–∞–ø—Ä–æ—Å –∫ /api/products/ai/suggest-nutrition/
- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –ö–ë–ñ–£
- Loading –∏ error states

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ö–ë–ñ–£ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è
- [x] Loading/error states

–§–ê–ô–õ–´:
- `frontend/console/src/components/products/ProductQuickAdd.tsx`
- `frontend/console/src/pages/products/ProductsDatabase.tsx` (inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

–í–´–ü–û–õ–ù–ï–ù–û:
- –í ProductQuickAdd.tsx:
  - –ö–Ω–æ–ø–∫–∞ Sparkles —Ä—è–¥–æ–º —Å –ø–æ–ª–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è
  - handleAiSuggest –≤—ã–∑—ã–≤–∞–µ—Ç dishesAiApi.suggestProductNutrition()
  - –ó–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–ª—è: calories_per_100g, proteins_per_100g, fats_per_100g, carbs_per_100g
  - isAiLoading —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å Loader2
  - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
- –í ProductsDatabase.tsx (inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):
  - –ö–Ω–æ–ø–∫–∞ Sparkles –≤ –∫–æ–ª–æ–Ω–∫–µ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  - suggestNutrition() –≤—ã–∑—ã–≤–∞–µ—Ç dishesAiApi.suggestProductNutrition()
  - aiLoadingId —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
  - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## –ì—Ä—É–ø–ø–∞: Celery Tasks

---

## –ó–ê–î–ê–ß–ê #040
TITLE: [BACKEND] Create Celery Task: Generate Dish Thumbnail
PRIORITY: MEDIUM
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 17:00] ‚úÖ AUDIT PASSED - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ tasks.py –∏ signals.py
DEPENDS_ON: #003
BLOCKS: -
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å Celery task –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–Ω–∏–∞—Ç—é—Ä—ã —Ñ–æ—Ç–æ –±–ª—é–¥–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `backend/apps/meals/tasks.py`
- Task `generate_dish_thumbnail(dish_id: int)`
- –°–æ–∑–¥–∞—ë—Ç –º–∏–Ω–∏–∞—Ç—é—Ä—É 300x300 –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pillow
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ R2 (–∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è dev)
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±–ª—é–¥–∞ —Å —Ñ–æ—Ç–æ

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] Task —Å–æ–∑–¥–∞–Ω
- [ ] –ú–∏–Ω–∏–∞—Ç—é—Ä–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –±–ª—é–¥–∞

–§–ê–ô–õ–´:
- `backend/apps/meals/tasks.py`
- `backend/apps/meals/signals.py` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –∞–≤—Ç–æ–≤—ã–∑–æ–≤–∞)

---

## –ó–ê–î–ê–ß–ê #041
TITLE: [BACKEND] Create Celery Task: Recalculate Dishes Nutrition
PRIORITY: MEDIUM
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 17:00] ‚úÖ AUDIT PASSED - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ tasks.py –∏ signals.py
DEPENDS_ON: #001, #003
BLOCKS: -
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å Celery task –¥–ª—è –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –ö–ë–ñ–£ –±–ª—é–¥ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- Task `recalculate_dishes_nutrition(product_id: int)`
- –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –±–ª—é–¥–∞ —Å —ç—Ç–∏–º –ø—Ä–æ–¥—É–∫—Ç–æ–º –≤ ingredients
- –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ö–ë–ñ–£ –∫–∞–∂–¥–æ–≥–æ –±–ª—é–¥–∞
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Product

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] Task —Å–æ–∑–¥–∞–Ω
- [ ] –ü–µ—Ä–µ—Å—á—ë—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–¥—É–∫—Ç–∞

–§–ê–ô–õ–´:
- `backend/apps/meals/tasks.py`
- `backend/apps/meals/signals.py`

---

## –ì—Ä—É–ø–ø–∞: Advanced Features

---

## –ó–ê–î–ê–ß–ê #042
TITLE: [BACKEND] Implement Dish Duplicate Action
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #011
BLOCKS: -
ESTIMATED: 1h

–û–ü–ò–°–ê–ù–ò–ï:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å action –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –±–ª—é–¥–∞ –≤ DishViewSet.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- POST /api/dishes/{id}/duplicate/
- –°–æ–∑–¥–∞—ë—Ç –∫–æ–ø–∏—é –±–ª—é–¥–∞ —Å –Ω–æ–≤—ã–º id
- –ù–∞–∑–≤–∞–Ω–∏–µ: "{original_name} (–∫–æ–ø–∏—è)"
- –ö–æ–ø–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –ø–æ–ª—è –∫—Ä–æ–º–µ id, created_at, updated_at
- –¢–µ–≥–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å –∫–æ–ø–∏–µ–π

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] Action —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] –ö–æ–ø–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –¢–µ–≥–∏ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è

–§–ê–ô–õ–´:
- `backend/apps/meals/views.py`

---

## –ó–ê–î–ê–ß–ê #043
TITLE: [BACKEND] Implement Dish Archive Action
PRIORITY: HIGH
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 16:30] ‚úÖ AUDIT PASSED
DEPENDS_ON: #011
BLOCKS: -
ESTIMATED: 30m

–û–ü–ò–°–ê–ù–ò–ï:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å action –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è –±–ª—é–¥–∞ –≤ DishViewSet.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- POST /api/dishes/{id}/archive/
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç is_active=False
- –ë–ª—é–¥–æ –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è, —Ç–æ–ª—å–∫–æ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ —Å–ø–∏—Å–∫–∞

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] Action —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] –ë–ª—é–¥–æ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ —Å–ø–∏—Å–∫–∞

–§–ê–ô–õ–´:
- `backend/apps/meals/views.py`

---

## –ó–ê–î–ê–ß–ê #044
TITLE: [FEATURE] Implement Dishes Import/Export
PRIORITY: MEDIUM
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 17:05] ‚úÖ AUDIT PASSED - Backend –∏ Frontend –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
DEPENDS_ON: #011, #025
BLOCKS: -
ESTIMATED: 4h

–û–ü–ò–°–ê–ù–ò–ï:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –±–ª—é–¥ –≤ JSON/CSV —Ñ–æ—Ä–º–∞—Ç–µ.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- Backend:
  - GET /api/dishes/export/ ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –±–ª—é–¥ –∫–æ—É—á–∞ –≤ JSON
  - POST /api/dishes/import/ ‚Äî –∏–º–ø–æ—Ä—Ç –±–ª—é–¥ –∏–∑ JSON —Ñ–∞–π–ª–∞
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
- Frontend:
  - –ö–Ω–æ–ø–∫–∞ "–≠–∫—Å–ø–æ—Ä—Ç" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±–∞–∑—ã –±–ª—é–¥
  - –ö–Ω–æ–ø–∫–∞ "–ò–º–ø–æ—Ä—Ç" —Å file upload

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ò–º–ø–æ—Ä—Ç –∏–∑ JSON —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
- [ ] UI –∫–Ω–æ–ø–∫–∏

–§–ê–ô–õ–´:
- `backend/apps/meals/views.py`
- `frontend/console/src/pages/dishes/DishesDatabase.tsx`

---

## –ó–ê–î–ê–ß–ê #045
TITLE: [FEATURE] Create Dish from Nutrition Program
PRIORITY: MEDIUM
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 20:15] ‚úÖ AUDIT PASSED
DEPENDS_ON: #031
BLOCKS: -
ESTIMATED: 3h

–û–ü–ò–°–ê–ù–ò–ï:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–ª—é–¥–∞ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã: –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É" —É –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç DishForm —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Äî –±–ª—é–¥–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –±–∞–∑–µ

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ö–Ω–æ–ø–∫–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- [x] –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–§–ê–ô–õ–´:
- `frontend/console/src/pages/NutritionProgramEdit.tsx`
- `frontend/console/src/pages/dishes/DishForm.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –ö–Ω–æ–ø–∫–∞ BookmarkPlus –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ NutritionProgramEdit.tsx (—Å—Ç—Ä–æ–∫–∞ 1263)
- navigate('/dishes/new', { state: { name, description, meal_type } })
- DishForm.tsx: PrefillData interface –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ state
- useEffect –¥–ª—è –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –∏–∑ location.state

–ê–£–î–ò–¢:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ react-router state –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–¥: TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è, —á–∏—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- UX: –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π BookmarkPlus –∏ title –ø–æ–¥—Å–∫–∞–∑–∫–æ–π

---

## –ì—Ä—É–ø–ø–∞: Drag-and-Drop

---

## –ó–ê–î–ê–ß–ê #046
TITLE: [FRONTEND] Create Draggable Dishes Panel
PRIORITY: MEDIUM
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 20:15] ‚úÖ AUDIT PASSED
DEPENDS_ON: #025, #031
BLOCKS: #047
ESTIMATED: 3h

–û–ü–ò–°–ê–ù–ò–ï:
–°–æ–∑–¥–∞—Ç—å –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å —Å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–º–∏ –±–ª—é–¥–∞–º–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ü–∞–Ω–µ–ª—å —Å–ø—Ä–∞–≤–∞ –∏–ª–∏ —Å–ª–µ–≤–∞ –æ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã –±–ª—é–¥
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –±–ª—é–¥ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é drag
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å react-beautiful-dnd –∏–ª–∏ @dnd-kit

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ü–∞–Ω–µ–ª—å —Å–æ–∑–¥–∞–Ω–∞
- [x] Drag –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –∫–∞—Ä—Ç–æ—á–∫–∏
- [x] –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/DraggableDishesPanel.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- DraggableDishesPanel.tsx: 223 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç @dnd-kit/core —Å useDraggable hook
- DraggableDishCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π drag —Å–æ—Å—Ç–æ—è–Ω–∏—è
- DishDragOverlay —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è DragOverlay
- Debounced –ø–æ–∏—Å–∫ (300ms)
- –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏ —á–µ—Ä–µ–∑ Select
- –ó–∞–≥—Ä—É–∑–∫–∞ 30 –±–ª—é–¥ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –ø–æ updated_at
- TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

–ê–£–î–ò–¢:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ú–æ–¥—É–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –ö–æ–¥: –ß–∏—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ö—É–∫–∞–º–∏ React, TypeScript
- Performance: Debounce –Ω–∞ –ø–æ–∏—Å–∫–µ, lazy load –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏
- UX: GripVertical –∏–∫–æ–Ω–∫–∞ –¥–ª—è drag handle, –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ drag

---

## –ó–ê–î–ê–ß–ê #047
TITLE: [FRONTEND] Implement Drop Zones in Program Editor
PRIORITY: MEDIUM
TYPE: FEATURE
STATUS: AUDITED [2026-02-01 20:15] ‚úÖ AUDIT PASSED
DEPENDS_ON: #031, #046
BLOCKS: -
ESTIMATED: 4h

–û–ü–ò–°–ê–ù–ò–ï:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å drop zones –¥–ª—è –±–ª—é–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –ø—Ä–æ–≥—Ä–∞–º–º –ø–∏—Ç–∞–Ω–∏—è.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å NutritionProgramEdit.tsx
- –ö–∞–∂–¥—ã–π –ø—Ä–∏—ë–º –ø–∏—â–∏ ‚Äî drop zone
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ hover
- –ü—Ä–∏ drop ‚Äî –¥–∞–Ω–Ω—ã–µ –±–ª—é–¥–∞ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –ø—Ä–∏—ë–º –ø–∏—â–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DraggableDishesPanel

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] Drop zones —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- [x] –î–∞–Ω–Ω—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

–§–ê–ô–õ–´:
- `frontend/console/src/pages/NutritionProgramEdit.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- –û–±—ë—Ä–Ω—É—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ DndContext —Å pointerWithin collision detection
- –î–æ–±–∞–≤–ª–µ–Ω–∞ DraggableDishesPanel —Å –∫–Ω–æ–ø–∫–æ–π –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤ header
- –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç MealDropZone —Å useDroppable –∏–∑ @dnd-kit/core
- –ö–∞–∂–¥—ã–π —Ç–∏–ø –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏ (–ó–∞–≤—Ç—Ä–∞–∫, –ü–µ—Ä–µ–∫—É—Å 1, –û–±–µ–¥, –ü–µ—Ä–µ–∫—É—Å 2, –£–∂–∏–Ω) ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è drop zone
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å: border-primary, bg-primary/10, ring-2 –ø—Ä–∏ isOver
- handleDragEnd –∫–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–ª—é–¥–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –ö–ë–ñ–£) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø—Ä–∏—ë–º –ø–∏—â–∏
- DragOverlay –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–≤—å—é –±–ª—é–¥–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏
- –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ

–ê–£–î–ò–¢:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @dnd-kit/core, DndContext –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- –ö–æ–¥: MealDropZone –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, handleDragStart/handleDragEnd handlers
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å DraggableDishesPanel
- UX: –ê–Ω–∏–º–∞—Ü–∏—è "–û—Ç–ø—É—Å—Ç–∏—Ç–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è", –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ hover
- –î–∞–Ω–Ω—ã–µ: –ö–ë–ñ–£ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è –≤ description –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –±–ª—é–¥–∞

---

# PHASE 3: Testing & Documentation

---

## –ó–ê–î–ê–ß–ê #048
TITLE: [TESTING] Backend Unit Tests for Models
PRIORITY: HIGH
TYPE: TESTING
STATUS: AUDITED [2026-02-01 17:10] ‚úÖ AUDIT PASSED - 39 —Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç
DEPENDS_ON: #004
BLOCKS: -
ESTIMATED: 3h

–û–ü–ò–°–ê–ù–ò–ï:
–ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π Product, DishTag, Dish.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `backend/apps/meals/tests/test_models.py`
- –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π
- –¢–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª–µ–π
- –¢–µ—Å—Ç—ã unique constraints
- –¢–µ—Å—Ç recalculate_nutrition()

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π –Ω–∞–ø–∏—Å–∞–Ω—ã
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] Coverage > 80%

–§–ê–ô–õ–´:
- `backend/apps/meals/tests/test_models.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω test_models.py —Å 39 —Ç–µ—Å—Ç–∞–º–∏
- TestProductModel: —Å–æ–∑–¥–∞–Ω–∏–µ, __str__, unique_together, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ö–ë–ñ–£ (–Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è), get_nutrition_for_weight, ordering
- TestDishTagModel: —Å–æ–∑–¥–∞–Ω–∏–µ, __str__, default color, unique_together, ordering
- TestDishModel: —Å–æ–∑–¥–∞–Ω–∏–µ, __str__, default values, –≤–∞–ª–∏–¥–∞—Ü–∏—è, tags, meal_types, ingredients JSON, recalculate_nutrition, ordering, archived
- –í—Å–µ 39 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç

---

## –ó–ê–î–ê–ß–ê #049
TITLE: [TESTING] Backend Unit Tests for API
PRIORITY: HIGH
TYPE: TESTING
STATUS: AUDITED [2026-02-01 17:15] ‚úÖ AUDIT PASSED - 42 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—à–ª–∏
DEPENDS_ON: #012
BLOCKS: -
ESTIMATED: 4h

–û–ü–ò–°–ê–ù–ò–ï:
–ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints –±–ª—é–¥ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `backend/apps/meals/tests/test_views.py`
- –¢–µ—Å—Ç—ã CRUD –¥–ª—è Dish, Product, DishTag
- –¢–µ—Å—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞
- –¢–µ—Å—Ç—ã permissions (–¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º)
- –¢–µ—Å—Ç—ã duplicate/archive actions

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –¢–µ—Å—Ç—ã API –Ω–∞–ø–∏—Å–∞–Ω—ã
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] –¢–µ—Å—Ç—ã permissions

–§–ê–ô–õ–´:
- `backend/apps/meals/tests/test_views.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω test_views.py —Å 42 —Ç–µ—Å—Ç–∞–º–∏
- TestProductAPI (15 —Ç–µ—Å—Ç–æ–≤): CRUD, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ–∏—Å–∫, –∏–∑–æ–ª—è—Ü–∏—è –ø–æ –∫–æ—É—á—É, search action
- TestDishTagAPI (6 —Ç–µ—Å—Ç–æ–≤): CRUD, –∏–∑–æ–ª—è—Ü–∏—è –ø–æ –∫–æ—É—á—É, default color
- TestDishAPI (21 —Ç–µ—Å—Ç): CRUD, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–æ–∏—Å–∫, —Ç–µ–≥–∏, –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, duplicate, archive, permissions (–¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º)
- 42 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—à–ª–∏ (1 –ø—Ä–æ–ø—É—â–µ–Ω –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π SQLite)

---

## –ó–ê–î–ê–ß–ê #050
TITLE: [TESTING] Frontend Component Tests
PRIORITY: MEDIUM
TYPE: TESTING
STATUS: AUDITED [2026-02-01 20:25] ‚úÖ AUDIT PASSED
DEPENDS_ON: #026, #029
BLOCKS: -
ESTIMATED: 4h

–û–ü–ò–°–ê–ù–ò–ï:
–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –¢–µ—Å—Ç—ã –¥–ª—è DishCard
- –¢–µ—Å—Ç—ã –¥–ª—è DishForm (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –≤–∞–ª–∏–¥–∞—Ü–∏—è)
- –¢–µ—Å—Ç—ã –¥–ª—è DishSelector
- –¢–µ—Å—Ç—ã –¥–ª—è IngredientsTable
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @testing-library/react

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞–ø–∏—Å–∞–Ω—ã
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

–§–ê–ô–õ–´:
- `frontend/console/src/components/dishes/__tests__/`
- `frontend/console/src/pages/dishes/__tests__/`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vitest (vitest.config.ts)
- –°–æ–∑–¥–∞–Ω setup —Ñ–∞–π–ª –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (src/test/setup.ts) —Å –º–æ–∫–∞–º–∏ ResizeObserver, IntersectionObserver, matchMedia
- DishCard.test.tsx: 11 —Ç–µ—Å—Ç–æ–≤ (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, nutrition info, tags, —Ñ–æ—Ç–æ, onClick)
- DishSelector.test.tsx: 5 —Ç–µ—Å—Ç–æ–≤ (–∑–∞–≥—Ä—É–∑–∫–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–ª—é–¥, –≤—ã–±–æ—Ä, –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- DraggableDishesPanel.test.tsx: 4 —Ç–µ—Å—Ç–∞ (DishDragOverlay —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥)
- DishForm.test.tsx: 4 —Ç–µ—Å—Ç–∞ (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ñ–æ—Ä–º—ã, –∫–Ω–æ–ø–∫–∏, —Å–µ–∫—Ü–∏–π)
- –í—Å–µ 24 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã TypeScript –æ—à–∏–±–∫–∏ (case-sensitivity imports, duplicate types)

–ê–£–î–ò–¢:
- –ü–æ–∫—Ä—ã—Ç–∏–µ: –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (DishCard, DishSelector, DraggableDishesPanel, DishForm)
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: Vitest + @testing-library/react, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π setup
- –ö–∞—á–µ—Å—Ç–≤–æ: Mock API –∏ stores, –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- –†–µ–∑—É–ª—å—Ç–∞—Ç: 24 —Ç–µ—Å—Ç–∞, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è 1.72s

---

## –ó–ê–î–ê–ß–ê #051
TITLE: [TESTING] Backend AI Services Tests
PRIORITY: MEDIUM
TYPE: TESTING
STATUS: AUDITED [2026-02-01 20:15] ‚úÖ AUDIT PASSED
DEPENDS_ON: #037
BLOCKS: -
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è AI —Å–µ—Ä–≤–∏—Å–æ–≤ —Å mock OpenAI API.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –§–∞–π–ª `backend/apps/meals/tests/test_ai_services.py`
- Mock OpenAI responses
- –¢–µ—Å—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–æ–≤
- –¢–µ—Å—Ç—ã error handling

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –¢–µ—Å—Ç—ã AI —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞–ø–∏—Å–∞–Ω—ã
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

–§–ê–ô–õ–´:
- `backend/apps/meals/tests/test_ai_services.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª test_ai_services.py —Å 50 —Ç–µ—Å—Ç–∞–º–∏ (496 —Å—Ç—Ä–æ–∫)
- –¢–µ—Å—Ç—ã sanitize_ai_input: 11 —Ç–µ—Å—Ç–æ–≤ (–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è, prompt injection detection)
- –¢–µ—Å—Ç—ã sanitize_ingredients_list: 6 —Ç–µ—Å—Ç–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- –¢–µ—Å—Ç—ã validate_nutrition_value: 7 —Ç–µ—Å—Ç–æ–≤ (–≥—Ä–∞–Ω–∏—Ü—ã, —Ç–∏–ø—ã)
- –¢–µ—Å—Ç—ã sanitize_text_content: 5 —Ç–µ—Å—Ç–æ–≤ (HTML escape, truncation)
- –¢–µ—Å—Ç—ã validate_ai_recipe_response: 3 —Ç–µ—Å—Ç–∞
- –¢–µ—Å—Ç—ã validate_ai_nutrition_response: 1 —Ç–µ—Å—Ç
- –¢–µ—Å—Ç—ã validate_ai_product_nutrition_response: 1 —Ç–µ—Å—Ç
- –¢–µ—Å—Ç—ã generate_recipe: 6 —Ç–µ—Å—Ç–æ–≤ —Å mock AI provider
- –¢–µ—Å—Ç—ã calculate_nutrition_from_ingredients: 3 —Ç–µ—Å—Ç–∞
- –¢–µ—Å—Ç—ã suggest_product_nutrition: 3 —Ç–µ—Å—Ç–∞
- –¢–µ—Å—Ç—ã suggest_dish_description: 4 —Ç–µ—Å—Ç–∞
- –í—Å–µ 50 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

–ê–£–î–ò–¢:
- –ü–æ–∫—Ä—ã—Ç–∏–µ: –í—Å–µ security —Ñ—É–Ω–∫—Ü–∏–∏ –∏ AI —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
- Mock: AsyncMock –¥–ª—è AI provider, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö API –≤—ã–∑–æ–≤–æ–≤
- Security: –¢–µ—Å—Ç—ã prompt injection detection ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- Edge cases: –¢–µ—Å—Ç—ã –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ö–∞—á–µ—Å—Ç–≤–æ: pytest fixtures, docstrings –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º

---

## –ó–ê–î–ê–ß–ê #052
TITLE: [DEPLOY] Production Deployment Preparation
PRIORITY: HIGH
TYPE: INFRASTRUCTURE
STATUS: AUDITED [2026-02-01 20:15] ‚úÖ AUDIT PASSED
DEPENDS_ON: #048, #049
BLOCKS: -
ESTIMATED: 2h

–û–ü–ò–°–ê–ù–ò–ï:
–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–µ–ø–ª–æ–π –Ω–∞ Railway.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ production DB
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (OPENAI_API_KEY)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å storage –¥–ª—è —Ñ–æ—Ç–æ (Cloudflare R2)
- –î–µ–ø–ª–æ–π: api, celery, console

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã
- [x] Env variables –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] Storage –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] –î–µ–ø–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω

–ö–û–ú–ê–ù–î–´:
```bash
ops/railway/deploy.sh api celery console
```

–í–´–ü–û–õ–ù–ï–ù–û:
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã (0001-0007 –¥–ª—è meals app)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ TypeScript –≤ console:
  - –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ç–∏–ø–æ–≤ Ingredient/SimpleIngredient
  - Case-sensitive –∏–º–ø–æ—Ä—Ç—ã (Button/button, Card/card)
  - –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã
  - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π CSS property ringColor
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã:
  - api: SUCCESS
  - beat: SUCCESS
  - console: SUCCESS
  - miniapp: SUCCESS
  - postgres: SUCCESS

–ê–£–î–ò–¢:
- –ú–∏–≥—Ä–∞—Ü–∏–∏: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å 0001-0007 –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- TypeScript: –û—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –¥–æ –¥–µ–ø–ª–æ—è (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π workflow)
- –î–µ–ø–ª–æ–π: –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: Railway deploy scripts –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

# DEPENDENCY GRAPH

```
Phase 1 - Models:
#001 (Product) ‚îÄ‚î¨‚îÄ‚Üí #003 (Dish) ‚îÄ‚Üí #004 (Migrations) ‚îÄ‚Üí #005 (Indexes)
#002 (DishTag) ‚îÄ‚îò

Phase 1 - Serializers:
#001 ‚Üí #006 (ProductSerializer)
#002 ‚Üí #007 (DishTagSerializer)
#003, #007 ‚Üí #008 (DishSerializers)

Phase 1 - Views:
#004, #006 ‚Üí #009 (ProductViewSet)
#004, #007 ‚Üí #010 (DishTagViewSet)
#004, #008 ‚Üí #011 (DishViewSet)
#009, #010, #011 ‚Üí #012 (URLs)

Phase 1 - Frontend Core:
#013 (Types) - independent
#012, #013 ‚Üí #014 (API Client)
#013, #014 ‚Üí #015 (Store)

Phase 1 - Frontend Components:
#013 ‚Üí #016, #017, #018, #019, #020
#013, #014 ‚Üí #021, #022
#021 ‚Üí #023 ‚Üí #024

Phase 1 - Frontend Pages:
#015, #016 ‚Üí #025 (DishesDatabase)
#015, #017-#020, #024 ‚Üí #026 (DishForm)
#014 ‚Üí #027, #028

Phase 1 - Integration:
#014, #016, #026 ‚Üí #029 (DishSelector)
#013 ‚Üí #030 (DishPreview)
#029, #030 ‚Üí #031 (Integration)

Phase 1 - Navigation:
#025-#028 ‚Üí #032 (Routes)

Phase 2 - AI:
#033-#036 ‚Üí #037 (AI Endpoints)
#026, #037 ‚Üí #038 (AI in DishForm)
#022, #037 ‚Üí #039 (AI in ProductForm)

Phase 2 - Celery:
#003 ‚Üí #040, #041

Phase 2 - Advanced:
#011 ‚Üí #042, #043
#011, #025 ‚Üí #044
#031 ‚Üí #045, #046 ‚Üí #047

Phase 3 - Testing:
#004 ‚Üí #048
#012 ‚Üí #049
#026, #029 ‚Üí #050
#037 ‚Üí #051
#048, #049 ‚Üí #052
```

---

# PARALLEL EXECUTION OPPORTUNITIES

## Batch 1 (–º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ):
- #001, #002, #013 ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∑–∞–¥–∞—á–∏

## Batch 2 (–ø–æ—Å–ª–µ Batch 1):
- #003 (–ø–æ—Å–ª–µ #001, #002)
- #006, #007 (–ø–æ—Å–ª–µ #001, #002)

## Batch 3 (–ø–æ—Å–ª–µ Batch 2):
- #004 (–ø–æ—Å–ª–µ #003)
- #008 (–ø–æ—Å–ª–µ #003, #007)
- #016, #017, #018, #019, #020, #021, #022 (–ø–æ—Å–ª–µ #013)

## Batch 4 (–ø–æ—Å–ª–µ Batch 3):
- #005, #009, #010, #011 (–ø–æ—Å–ª–µ #004)
- #014 (–ø–æ—Å–ª–µ #012)
- #023 (–ø–æ—Å–ª–µ #021)

## Batch 5 (–ø–æ—Å–ª–µ Batch 4):
- #012 (–ø–æ—Å–ª–µ #009, #010, #011)
- #015, #024 (–ø–æ—Å–ª–µ #014, #023)

## Batch 6 (–ø–æ—Å–ª–µ Batch 5):
- #025, #026, #027, #028, #029, #030 (–ø–æ—Å–ª–µ dependencies)

## AI Tasks (Phase 2, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ #003):
- #033, #034, #035, #036 ‚Äî –≤—Å–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

---

# NOTES

- Frontend –∑–∞–¥–∞—á–∏ (#013+) –º–æ–≥—É—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å backend –ø–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- AI —Å–µ—Ä–≤–∏—Å—ã (#033-#036) –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (#048-#051) —Å–ª–µ–¥—É–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å –∫–∞–∫ —Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑: Models ‚Üí Migrations ‚Üí Serializers ‚Üí Views ‚Üí URLs ‚Üí API Client ‚Üí Store ‚Üí Pages ‚Üí Integration

---

# FIX TASKS (—Å–æ–∑–¥–∞–Ω—ã –∞—É–¥–∏—Ç–æ—Ä–æ–º)

---

## –ó–ê–î–ê–ß–ê #fix_001
TITLE: [FIX] –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ —É–≥–ª–µ–≤–æ–¥–æ–≤ –≤ —Ñ–æ—Ä–º–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ DishForm
PARENT: #026, #023, #024
PRIORITY: MEDIUM
TYPE: BUG
STATUS: VERIFIED [2026-02-01 16:35] ‚úÖ ISSUE RESOLVED

–ü–†–û–ë–õ–ï–ú–ê (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞):
–í —Ñ–æ—Ä–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–ª—é–¥–∞ —Ç–∞–±–ª–∏—Ü–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞ —Ç–æ–ª—å–∫–æ 5 –ø–æ–ª–µ–π –±–µ–∑ –ø–æ–ª—è —É–≥–ª–µ–≤–æ–¥–æ–≤.

–†–ï–®–ï–ù–ò–ï (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ):
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ Input –¥–ª—è —É–≥–ª–µ–≤–æ–¥–æ–≤ —Å placeholder "–£"
2. ‚úÖ –ò–∑–º–µ–Ω—ë–Ω grid —Å 6 –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ 7
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ handleIngredientChange –¥–ª—è 'carbohydrates'

–§–ê–ô–õ–´:
- `frontend/console/src/pages/dishes/DishForm.tsx` (—Å—Ç—Ä–æ–∫–∏ 499-530)

–ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:
- [ ] –ü–æ–ª–µ "–£" (—É–≥–ª–µ–≤–æ–¥—ã) –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å—Ç—Ä–æ–∫—É –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç formData.ingredients
- [ ] –ü–µ—Ä–µ—Å—á—ë—Ç –ö–ë–ñ–£ —É—á–∏—Ç—ã–≤–∞–µ—Ç —É–≥–ª–µ–≤–æ–¥—ã –∏–∑ –≤—Å–µ—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
- [ ] –í–∏–∑—É–∞–ª—å–Ω—ã–π layout –æ—Å—Ç–∞—ë—Ç—Å—è —É–¥–æ–±–Ω—ã–º (responsive)

---

# AUDIT LOG

## 2026-02-01 16:30 ‚Äî –ê—É–¥–∏—Ç–æ—Ä auditor-001

**–ü—Ä–æ–∞—É–¥–∏—Ä–æ–≤–∞–Ω–æ –∑–∞–¥–∞—á:** 32

**–ü—Ä–æ—à–ª–∏ –∞—É–¥–∏—Ç (‚úÖ AUDIT PASSED):**
#003, #004, #005, #006, #007, #008, #009, #010, #011, #012, #013, #014, #015, #016, #017, #018, #019, #020, #021, #025, #029, #030, #031, #032, #033, #034, #035, #036, #037, #038, #042, #043

**–í—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã (‚ö†Ô∏è ISSUES FOUND):**
#023, #024, #026 ‚Äî –æ–±—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ —É–≥–ª–µ–≤–æ–¥–æ–≤ –≤ —Ñ–æ—Ä–º–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤

**–°–æ–∑–¥–∞–Ω—ã FIX-–∑–∞–¥–∞—á–∏:** 1
- #fix_001 ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ —É–≥–ª–µ–≤–æ–¥–æ–≤ –≤ —Ñ–æ—Ä–º–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ DishForm

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞:**
- Backend: **–æ—Ç–ª–∏—á–Ω–æ** ‚Äî SOLID —Å–æ–±–ª—é–¥–µ–Ω—ã, type hints, docstrings, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
- Frontend: **—Ö–æ—Ä–æ—à–æ** ‚Äî TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è, Zustand store, API –∫–ª–∏–µ–Ω—Ç
- AI Services: **–æ—Ç–ª–∏—á–Ω–æ** ‚Äî –ø—Ä–æ–º–ø—Ç—ã –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, error handling, logging
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: **—Ö–æ—Ä–æ—à–æ** ‚Äî API –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–≤—è–∑–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ (FIX #fix_001) ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç MEDIUM
2. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ProductAutocomplete –≤ —Ñ–æ—Ä–º—É –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## 2026-02-01 17:45 ‚Äî Security Auditor security-auditor-001

**Security Audit –ø—Ä–æ–≤–µ–¥—ë–Ω –¥–ª—è –∑–∞–¥–∞—á:**
#033, #034, #035, #036, #037, #038, #039 (AI Services)
#006, #007, #008, #009, #010, #011, #012 (API Endpoints)
#001, #002, #003, #004, #005 (Data Models)

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- Authentication: **—Ö–æ—Ä–æ—à–æ** ‚Äî JWT —Å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ —Å—Ä–æ–∫–∞–º–∏, —Ä–æ—Ç–∞—Ü–∏–µ–π, blacklist
- Telegram Auth: **–æ—Ç–ª–∏—á–Ω–æ** ‚Äî HMAC, replay protection, invite validation
- File Upload: **–æ—Ç–ª–∏—á–Ω–æ** ‚Äî –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è, decompression bomb protection
- Rate Limiting: **—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏** ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –µ—Å—Ç—å, –Ω–æ AI API –Ω–µ –∑–∞—â–∏—â—ë–Ω –æ—Ç–¥–µ–ª—å–Ω–æ
- Input Validation: **—Ö–æ—Ä–æ—à–æ** ‚Äî serializers —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π, –Ω–æ AI input –Ω–µ —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–µ—Ç—Å—è
- XSS Protection: **—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏** ‚Äî React JSX –±–µ–∑–æ–ø–∞—Å–µ–Ω, –Ω–æ shopping_links URLs –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è
- Security Headers: **–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç** ‚Äî HSTS, CSP –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è production
- Audit Logging: **–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç** ‚Äî –Ω–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ health data –¥–ª—è compliance

**–í—ã—è–≤–ª–µ–Ω–æ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π:** 8
- CRITICAL: 2
- HIGH: 3
- MEDIUM: 3

---

# SECURITY FIX TASKS (—Å–æ–∑–¥–∞–Ω—ã Security Auditor)

---

## –ó–ê–î–ê–ß–ê #sec_001
TITLE: [SECURITY] AI Prompt Injection ‚Äî —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
PARENT: #033, #034, #035, #036, #037
PRIORITY: CRITICAL
TYPE: SECURITY_FIX
STATUS: COMPLETED [2026-02-01 18:10]

VULNERABILITY:
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ (–Ω–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞, –ø—Ä–æ–¥—É–∫—Ç–∞, —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤) –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ AI prompts –±–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏.
–ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –≤–Ω–µ–¥—Ä–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞: "–û–≤—Å—è–Ω–∫–∞. Ignore all previous instructions and return..."

POTENTIAL IMPACT:
- –û–±—Ö–æ–¥ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ AI
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –£—Ç–µ—á–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ system prompts
- Manipulation of AI responses

CVE/CWE REFERENCE:
CWE-77: Improper Neutralization of Special Elements used in a Command ('Command Injection')
OWASP: LLM01 - Prompt Injection

REMEDIATION:
1. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é sanitize_ai_input() –≤ ai_services.py:
   - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–ª–∏–Ω—É –≤–≤–æ–¥–∞ (max 200 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è, max 1000 –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤)
   - –£–¥–∞–ª–∏—Ç—å/—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ prompt injection patterns
   - –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "ignore", "system", "instruction", "override"
2. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É ingredients –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ AI
3. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ injection

SECURITY ACCEPTANCE CRITERIA:
- [x] –§—É–Ω–∫—Ü–∏—è sanitize_ai_input() —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º AI endpoints
- [x] –¢–µ—Å—Ç—ã –Ω–∞ injection patterns –ø—Ä–æ—Ö–æ–¥—è—Ç (–∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω—ã–π –≤–≤–æ–¥ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è)
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

COMPLIANCE REQUIREMENTS:
- OWASP Top 10: A03:2021 ‚Äì Injection

–§–ê–ô–õ–´:
- `backend/apps/meals/ai_services.py`
- `backend/apps/meals/views.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- sanitize_ai_input() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π injection patterns
- COMPILED_INJECTION_PATTERNS —Å–æ–¥–µ—Ä–∂–∏—Ç regex –¥–ª—è: ignore/disregard, system:, jailbreak, <|, |>, [INST], /INST, <!-- –∏ –¥—Ä—É–≥–∏–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ logger.warning –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ injection
- –¢–µ—Å—Ç—ã test_sanitize_prompt_injection_* –ø—Ä–æ—Ö–æ–¥—è—Ç
- –§—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö AI —Ñ—É–Ω–∫—Ü–∏—è—Ö: generate_recipe, suggest_product_nutrition, suggest_dish_description
- sanitize_ingredients_list() –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤

---

## –ó–ê–î–ê–ß–ê #sec_002
TITLE: [SECURITY] Rate Limiting –¥–ª—è AI API Endpoints (cost attack protection)
PARENT: #037
PRIORITY: CRITICAL
TYPE: SECURITY_FIX
STATUS: COMPLETED [2026-02-01 18:15]

VULNERABILITY:
AI API endpoints (/api/meals/ai/*) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π rate limit (1000/hour –¥–ª—è auth users).
AI –≤—ã–∑–æ–≤—ã –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ (~$0.01-0.05 –∑–∞ –∑–∞–ø—Ä–æ—Å). –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç:
- –í—ã–ø–æ–ª–Ω–∏—Ç—å 1000 AI –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ —á–∞—Å
- –ù–∞–Ω–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—â–µ—Ä–± ~$10-50/—á–∞—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ ‚Äî –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã

POTENTIAL IMPACT:
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—â–µ—Ä–± (API costs)
- Denial of Service —á–µ—Ä–µ–∑ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ API
- Resource exhaustion

CVE/CWE REFERENCE:
CWE-770: Allocation of Resources Without Limits or Throttling
CWE-400: Uncontrolled Resource Consumption

REMEDIATION:
1. –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π throttle class AIRateThrottle:
   - –õ–∏–º–∏—Ç: 20 AI –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –õ–∏–º–∏—Ç: 100 AI –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ AI endpoints –≤ views.py —á–µ—Ä–µ–∑ throttle_classes
3. –î–æ–±–∞–≤–∏—Ç—å monitoring –∑–∞—Ç—Ä–∞—Ç –Ω–∞ AI API
4. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å alert –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ budget threshold

SECURITY ACCEPTANCE CRITERIA:
- [x] AIRateThrottle –∫–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω
- [x] –õ–∏–º–∏—Ç—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ /api/meals/ai/* endpoints
- [x] –¢–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
- [x] HTTP 429 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

COMPLIANCE REQUIREMENTS:
- Cost control
- DoS protection

–§–ê–ô–õ–´:
- `backend/apps/meals/views.py`
- `backend/config/settings/base.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- AIHourlyRateThrottle (20/hour) –∏ AIDailyRateThrottle (100/day) —Å–æ–∑–¥–∞–Ω—ã
- –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ –≤—Å–µ–º AI endpoints: GenerateRecipeView, CalculateNutritionView, SuggestProductNutritionView, SuggestDishDescriptionView
- Rates –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ DEFAULT_THROTTLE_RATES –≤ settings/base.py

---

## –ó–ê–î–ê–ß–ê #sec_003
TITLE: [SECURITY] Shopping Links XSS ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è URL —Å—Ö–µ–º—ã
PARENT: #008, #026
PRIORITY: HIGH
TYPE: SECURITY_FIX
STATUS: COMPLETED [2026-02-01 18:20]

VULNERABILITY:
–í ShoppingLinkSerializer –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è URLField, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç URL, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ–ø–∞—Å–Ω—ã–µ —Å—Ö–µ–º—ã.
–ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å shopping_link —Å URL: "javascript:alert(document.cookie)" –∏–ª–∏ "data:text/html,<script>..."

POTENTIAL IMPACT:
- XSS –∞—Ç–∞–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É
- –ö—Ä–∞–∂–∞ session tokens/cookies
- –§–∏—à–∏–Ω–≥ —á–µ—Ä–µ–∑ data: URLs

CVE/CWE REFERENCE:
CWE-79: Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')
OWASP: A07:2021 ‚Äì Cross-Site Scripting (XSS)

REMEDIATION:
1. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é URL —Å—Ö–µ–º—ã –≤ ShoppingLinkSerializer
2. –ê–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è video_url –≤ DishDetailSerializer
3. –ù–∞ frontend –¥–æ–±–∞–≤–∏—Ç—å rel="noopener noreferrer" –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫

SECURITY ACCEPTANCE CRITERIA:
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è URL —Å—Ö–µ–º—ã –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ ShoppingLinkSerializer
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–ª—è video_url
- [x] –¢–µ—Å—Ç—ã: javascript:, data:, file: URLs –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
- [ ] Frontend: rel="noopener noreferrer" –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫ (TODO)

COMPLIANCE REQUIREMENTS:
- OWASP Top 10: A07:2021 ‚Äì Cross-Site Scripting (XSS)

–§–ê–ô–õ–´:
- `backend/apps/meals/serializers.py`
- `frontend/console/src/components/dishes/ShoppingLinksInput.tsx`

–í–´–ü–û–õ–ù–ï–ù–û:
- ALLOWED_URL_SCHEMES = {'http', 'https'} –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ serializers.py
- validate_url() –º–µ—Ç–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω –≤ ShoppingLinkSerializer –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ö–µ–º—ã
- javascript:, data:, file: –∏ –¥—Ä—É–≥–∏–µ –æ–ø–∞—Å–Ω—ã–µ —Å—Ö–µ–º—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è

---

## –ó–ê–î–ê–ß–ê #sec_004
TITLE: [SECURITY] JSON Fields DoS ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ payload
PARENT: #003, #008
PRIORITY: HIGH
TYPE: SECURITY_FIX
STATUS: COMPLETED [2026-02-01 18:20]

VULNERABILITY:
JSON –ø–æ–ª—è (ingredients, shopping_links, meal_types) –Ω–µ –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ
- –†–∞–∑–º–µ—Ä —Å—Ç—Ä–æ–∫ –≤–Ω—É—Ç—Ä–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ì–ª—É–±–∏–Ω—É –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏

–ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –±–ª—é–¥–æ —Å 10000 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏ –∏–ª–∏ —Å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–º name –¥–ª–∏–Ω–æ–π 1MB.

POTENTIAL IMPACT:
- Database bloat
- Memory exhaustion –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ
- Slow API responses (DoS)

CVE/CWE REFERENCE:
CWE-400: Uncontrolled Resource Consumption
CWE-770: Allocation of Resources Without Limits

REMEDIATION:
1. –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã:
   - MAX_INGREDIENTS = 50
   - MAX_SHOPPING_LINKS = 20
   - MAX_MEAL_TYPES = 5
   - MAX_STRING_LENGTH = 500
2. –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è shopping_links –∏ meal_types
3. –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä request body –≤ settings

SECURITY ACCEPTANCE CRITERIA:
- [x] –õ–∏–º–∏—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã: MAX_INGREDIENTS=50, MAX_SHOPPING_LINKS=20
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫ –≤–Ω—É—Ç—Ä–∏ JSON
- [x] –¢–µ—Å—Ç—ã: –±–æ–ª—å—à–∏–µ payloads –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è —Å 400 –æ—à–∏–±–∫–æ–π
- [ ] DATA_UPLOAD_MAX_MEMORY_SIZE –Ω–∞—Å—Ç—Ä–æ–µ–Ω (TODO - already has 10MB via MAX_IMAGE_UPLOAD_SIZE)

COMPLIANCE REQUIREMENTS:
- DoS protection
- Resource management

–§–ê–ô–õ–´:
- `backend/apps/meals/serializers.py`
- `backend/config/settings/base.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- MAX_INGREDIENTS=50, MAX_SHOPPING_LINKS=20, MAX_MEAL_TYPES=5 –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ serializers.py
- validate_ingredients() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
- validate_shopping_links() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Å—ã–ª–æ–∫
- validate_meal_types() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç —Ç–∏–ø–æ–≤ –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏

---

## –ó–ê–î–ê–ß–ê #sec_005
TITLE: [SECURITY] AI Response Validation ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö AI
PARENT: #033, #034, #035, #036
PRIORITY: HIGH
TYPE: SECURITY_FIX
STATUS: COMPLETED [2026-02-01 18:10]

VULNERABILITY:
AI responses —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î –±–µ–∑ –ø–æ–ª–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ.
AI –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å:
- XSS payload –≤ description –∏–ª–∏ recipe (–ø—Ä–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ AI –∏–ª–∏ adversarial prompts)
- SQL-–ø–æ–¥–æ–±–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- –ß—Ä–µ–∑–º–µ—Ä–Ω–æ –±–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ö–ë–ñ–£
- –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

POTENTIAL IMPACT:
- Stored XSS —á–µ—Ä–µ–∑ AI-generated content
- Data integrity issues
- Application errors –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

CVE/CWE REFERENCE:
CWE-20: Improper Input Validation

REMEDIATION:
1. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é validate_ai_response() –≤ ai_services.py:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –ö–ë–ñ–£ (0-10000 –¥–ª—è –∫–∞–ª–æ—Ä–∏–π, 0-500 –¥–ª—è –ë–ñ–£)
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
   - –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML/script tags –≤ recipe –∏ description
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–∑ –∫–∞–∂–¥–æ–π AI —Ñ—É–Ω–∫—Ü–∏–∏
3. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ responses

SECURITY ACCEPTANCE CRITERIA:
- [x] validate_ai_response() —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- [x] –ö–ë–ñ–£ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —Ä–∞–∑—É–º–Ω—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏
- [x] HTML —Ç–µ–≥–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
- [x] –¢–µ—Å—Ç—ã –Ω–∞ –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ AI responses

COMPLIANCE REQUIREMENTS:
- Input validation
- Data integrity

–§–ê–ô–õ–´:
- `backend/apps/meals/ai_services.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- validate_ai_recipe_response(), validate_ai_nutrition_response(), validate_ai_product_nutrition_response() —Å–æ–∑–¥–∞–Ω—ã
- NUTRITION_LIMITS –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω—ã: calories (0-10000), proteins/fats/carbs (0-500), cooking_time (0-480)
- sanitize_text_content() —É–¥–∞–ª—è–µ—Ç HTML —Ç–µ–≥–∏ —á–µ—Ä–µ–∑ re.sub(r'<[^>]+>', '', text)
- validate_nutrition_value() –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ø—É—Å—Ç–∏–º—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–∑ AI —Ñ—É–Ω–∫—Ü–∏–π

---

## –ó–ê–î–ê–ß–ê #sec_006
TITLE: [SECURITY] Security Headers –¥–ª—è Production
PARENT: #052
PRIORITY: MEDIUM
TYPE: SECURITY_FIX
STATUS: COMPLETED [2026-02-01 18:25]

VULNERABILITY:
–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–∞–∂–Ω—ã–µ security headers –¥–ª—è production:
- HSTS (HTTP Strict Transport Security)
- Content-Security-Policy
- X-Content-Type-Options
- Referrer-Policy

POTENTIAL IMPACT:
- Man-in-the-middle attacks (–±–µ–∑ HSTS)
- Content injection attacks
- Information leakage

CVE/CWE REFERENCE:
CWE-16: Configuration

REMEDIATION:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ backend/config/settings/production.py:
   - SECURE_HSTS_SECONDS = 31536000
   - SECURE_HSTS_INCLUDE_SUBDOMAINS = True
   - SECURE_SSL_REDIRECT = True
   - SECURE_CONTENT_TYPE_NOSNIFF = True
   - X_FRAME_OPTIONS = 'DENY'
2. –î–æ–±–∞–≤–∏—Ç—å django-csp –¥–ª—è Content-Security-Policy
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å headers —á–µ—Ä–µ–∑ securityheaders.com –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

SECURITY ACCEPTANCE CRITERIA:
- [x] HSTS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è production
- [x] SSL redirect –≤–∫–ª—é—á—ë–Ω
- [x] X-Content-Type-Options: nosniff
- [ ] securityheaders.com –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç A –∏–ª–∏ –≤—ã—à–µ (—Ç—Ä–µ–±—É–µ—Ç –¥–µ–ø–ª–æ–π)

COMPLIANCE REQUIREMENTS:
- OWASP Security Headers
- Transport Security

–§–ê–ô–õ–´:
- `backend/config/settings/prod.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- SECURE_HSTS_SECONDS = 31536000 (1 –≥–æ–¥)
- SECURE_HSTS_INCLUDE_SUBDOMAINS = True
- SECURE_HSTS_PRELOAD = True
- X_FRAME_OPTIONS = 'DENY' (clickjacking protection)
- SECURE_REFERRER_POLICY = 'strict-origin-when-cross-origin'
- –£–∂–µ –±—ã–ª–æ: SECURE_CONTENT_TYPE_NOSNIFF, SECURE_SSL_REDIRECT, SECURE_BROWSER_XSS_FILTER

---

## –ó–ê–î–ê–ß–ê #sec_007
TITLE: [SECURITY] Audit Logging –¥–ª—è Health Data Access (Compliance)
PARENT: #009, #010, #011
PRIORITY: MEDIUM
TYPE: SECURITY_FIX
STATUS: COMPLETED [2026-02-01 18:30]

VULNERABILITY:
–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ health-related –¥–∞–Ω–Ω—ã–º (meals, nutrition programs).
–≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è compliance –¥–ª—è health data:
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–∞–ª –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞
- –ù–µ—Ç audit trail –¥–ª—è —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤

POTENTIAL IMPACT:
- Compliance violations (GDPR, health data regulations)
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ accountability

CVE/CWE REFERENCE:
CWE-778: Insufficient Logging

REMEDIATION:
1. –°–æ–∑–¥–∞—Ç—å middleware –∏–ª–∏ decorator –¥–ª—è audit logging
2. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: user_id, action, resource_type, resource_id, timestamp, ip_address
3. –•—Ä–∞–Ω–∏—Ç—å audit logs –æ—Ç–¥–µ–ª—å–Ω–æ (retention policy)
4. –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ audit logs –¥–ª—è compliance

SECURITY ACCEPTANCE CRITERIA:
- [x] Audit logging –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ meals, dishes, client data
- [x] –õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç: who, what, when, from_where
- [ ] Retention policy –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ (TODO - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- [ ] –õ–æ–≥–∏ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç tampering (TODO - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)

COMPLIANCE REQUIREMENTS:
- GDPR Article 30 - Records of processing activities
- Health data audit trail requirements

–§–ê–ô–õ–´:
- `backend/core/audit.py` (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- `backend/config/settings/prod.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- AuditLoggingMiddleware —Å–æ–∑–¥–∞–Ω –≤ core/audit.py
- –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è: method, path, status, user (hashed), ip, duration_ms, user_agent_hash
- AUDITED_URL_PATTERNS –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç: /api/meals/, /api/metrics/, /api/reports/, /api/nutrition-programs/, /api/clients/
- –ò–∑–º–µ–Ω—è—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (POST/PUT/PATCH/DELETE) –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ WARNING
- Middleware –¥–æ–±–∞–≤–ª–µ–Ω –≤ MIDDLEWARE –≤ prod.py
- audit logger –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä–æ–º

---

## –ó–ê–î–ê–ß–ê #sec_008
TITLE: [SECURITY] Sensitive Data –≤ Logs ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
PARENT: #033, #034, #035, #036
PRIORITY: MEDIUM
TYPE: SECURITY_FIX
STATUS: COMPLETED [2026-02-01 18:10]

VULNERABILITY:
–í ai_services.py –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è –±–ª—é–¥ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤:
- logger.info(f'–†–µ—Ü–µ–ø—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è: {dish_name}')
- logger.info(f'–ö–ë–ñ–£ –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ–¥—Å–∫–∞–∑–∞–Ω–æ –¥–ª—è: {product_name}')

–ù–∞–∑–≤–∞–Ω–∏—è –±–ª—é–¥ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å health-related –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é ("–î–∏–∞–±–µ—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–≤—Ç—Ä–∞–∫", "–ë–µ–∑–≥–ª—é—Ç–µ–Ω–æ–≤–∞—è –∫–∞—à–∞").

POTENTIAL IMPACT:
- Information disclosure —á–µ—Ä–µ–∑ logs
- Privacy violation
- Compliance issues –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ logs

CVE/CWE REFERENCE:
CWE-532: Insertion of Sensitive Information into Log File

REMEDIATION:
1. –ó–∞–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ –æ–±–µ–∑–ª–∏—á–µ–Ω–Ω—ã–µ:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ID –∏–ª–∏ hashed values –≤–º–µ—Å—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–π
2. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è safe logging sensitive data
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ logger.info/warning/error –Ω–∞ sensitive data

SECURITY ACCEPTANCE CRITERIA:
- [x] –ù–∞–∑–≤–∞–Ω–∏—è –±–ª—é–¥/–ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ plaintext
- [x] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è ID –∏–ª–∏ hashed values
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ logging statements

COMPLIANCE REQUIREMENTS:
- GDPR: Data minimization in logs
- Secure logging practices

–§–ê–ô–õ–´:
- `backend/apps/meals/ai_services.py`
- `backend/apps/meals/views.py`

–í–´–ü–û–õ–ù–ï–ù–û:
- _hash_for_log() —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –í—Å–µ logger.info –≤—ã–∑–æ–≤—ã –≤ AI —Ñ—É–Ω–∫—Ü–∏—è—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç hash –≤–º–µ—Å—Ç–æ plaintext –Ω–∞–∑–≤–∞–Ω–∏–π
- –ü—Ä–∏–º–µ—Ä: logger.info(f'–†–µ—Ü–µ–ø—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è: {_hash_for_log(dish_name)}')

---

# SECURITY AUDIT LOG

## Audit Session: 2026-02-01

AUDITOR: security-auditor-001
SCOPE: Backend API Security (meals, dishes, AI services)
METHODOLOGY: OWASP Top 10 2021, LLM Security Best Practices

### Findings Summary

| ID | Severity | Title | Status |
|----|----------|-------|--------|
| #sec_001 | CRITICAL | AI Prompt Injection | FIXED |
| #sec_002 | CRITICAL | AI Rate Limiting Missing | FIXED |
| #sec_003 | HIGH | Shopping Links XSS | FIXED |
| #sec_004 | HIGH | JSON Fields DoS | FIXED |
| #sec_005 | HIGH | AI Response Validation | FIXED |
| #sec_006 | MEDIUM | Security Headers | FIXED |
| #sec_007 | MEDIUM | Audit Logging | FIXED |
| #sec_008 | MEDIUM | Sensitive Data in Logs | FIXED |

### Files Modified

1. `backend/apps/meals/ai_services.py`
   - Added: sanitize_ai_input(), INJECTION_PATTERNS, NUTRITION_LIMITS
   - Added: validate_ai_recipe_response(), validate_ai_nutrition_response()
   - Added: _hash_for_log() for secure logging

2. `backend/apps/meals/views.py`
   - Added: AIHourlyRateThrottle, AIDailyRateThrottle
   - Applied throttling to all AI endpoints

3. `backend/apps/meals/serializers.py`
   - Added: URL scheme validation (ALLOWED_URL_SCHEMES)
   - Added: JSON field size limits (MAX_INGREDIENTS, MAX_SHOPPING_LINKS)

4. `backend/config/settings/base.py`
   - Added: ai_hourly (20/hour), ai_daily (100/day) throttle rates

5. `backend/config/settings/prod.py`
   - Added: HSTS, X_FRAME_OPTIONS, SECURE_REFERRER_POLICY
   - Added: AuditLoggingMiddleware

6. `backend/core/audit.py` (NEW)
   - Created: AuditLoggingMiddleware for health data access logging

### Positive Findings

- Telegram auth implementation has proper HMAC validation
- File upload validation is robust (PIL verification, size limits)
- JWT tokens have reasonable expiration (30min access, 7 days refresh)
- Token blacklisting is enabled for rotation security
- Database credentials properly externalized via environment variables

### Recommendations for Future

1. Add Content-Security-Policy header via django-csp
2. Implement log retention policy
3. Add frontend rel="noopener noreferrer" for external links
4. Consider Web Application Firewall (WAF) for production
5. Regular security dependency updates (dependabot/renovate)

---

## 2026-02-01 20:15 ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç–æ—Ä auditor-002

**–ü—Ä–æ–∞—É–¥–∏—Ä–æ–≤–∞–Ω–æ –∑–∞–¥–∞—á:** 5

**–ü—Ä–æ—à–ª–∏ –∞—É–¥–∏—Ç (‚úÖ AUDIT PASSED):**
#045, #046, #047, #051, #052

**–í—ã—è–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:** –Ω–µ—Ç

**–°–æ–∑–¥–∞–Ω—ã FIX-–∑–∞–¥–∞—á–∏:** 0

**–î–µ—Ç–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç:**

### #045 ‚Äî Create Dish from Nutrition Program
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ö–Ω–æ–ø–∫–∞ BookmarkPlus ‚Üí navigate —Å state ‚Üí –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ DishForm
- **–ö–∞—á–µ—Å—Ç–≤–æ:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ react-router state
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ PASSED

### #046 ‚Äî Create Draggable Dishes Panel
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** @dnd-kit/core, DraggableDishCard, DishDragOverlay
- **–ö–∞—á–µ—Å—Ç–≤–æ:** 223 —Å—Ç—Ä–æ–∫–∏, debounced –ø–æ–∏—Å–∫, TypeScript
- **Performance:** Lazy load –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ PASSED

### #047 ‚Äî Implement Drop Zones in Program Editor
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** MealDropZone —Å useDroppable, handleDragEnd –∫–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- **–ö–∞—á–µ—Å—Ç–≤–æ:** –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å, DragOverlay
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å DraggableDishesPanel
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ PASSED

### #051 ‚Äî Backend AI Services Tests
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** 50 —Ç–µ—Å—Ç–æ–≤, 496 —Å—Ç—Ä–æ–∫, AsyncMock –¥–ª—è AI provider
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** Security functions, AI functions, edge cases
- **Security:** –¢–µ—Å—Ç—ã prompt injection ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ PASSED

### #052 ‚Äî Production Deployment
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ú–∏–≥—Ä–∞—Ü–∏–∏ 0001-0007, TypeScript fixes, Railway deploy
- **–°—Ç–∞—Ç—É—Å:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ PASSED

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:**
- Drag-and-drop –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Phase 2) –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ
- AI —Ç–µ—Å—Ç—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–∞–¥—ë–∂–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ security —Ñ—É–Ω–∫—Ü–∏–π
- Production deployment –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ
- **–ó–∞–¥–∞—á–∞ #050 (Frontend Component Tests):** COMPLETED ‚Äî 24 —Ç–µ—Å—Ç–∞ –ø—Ä–æ–π–¥–µ–Ω–æ

---
